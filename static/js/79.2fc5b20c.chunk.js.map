{"version":3,"sources":["views/apps/roles-permissions/store/role.js"],"names":["getData","createAsyncThunk","params","a","useJwt","ssoAxiosInterceptor","get","response","data","getSummaryData","Object","keys","forEach","key","addRole","role","dispatch","getState","post","roles","updateRole","id","name","deleteRole","delete","rolesSlice","createSlice","initialState","crudTitle","statusSummary","isLoadingSummary","errorSummary","dataSummary","status","isLoading","error","selected","reducers","selectRole","state","action","payload","extraReducers","builder","addCase","pending","fulfilled","rejected","message","actions"],"mappings":"keAIaA,EAAUC,YAAiB,eAAD,uCAAiB,WAAOC,GAAP,eAAAC,EAAA,sEAC/BC,IAAOC,oBAAoBC,IAAI,YAAa,CACjEJ,WAFoD,cAChDK,EADgD,yBAI/C,CACLC,KAAMD,EAASC,KAAKA,OALgC,2CAAjB,uDAS1BC,EAAiBR,YAC5B,sBAD4C,uCAE5C,WAAOC,GAAP,eAAAC,EAAA,6DACEO,OAAOC,KAAKT,GAAQU,SAAQ,SAACC,GACP,OAAhBX,EAAOW,IAAiC,KAAhBX,EAAOW,WAC1BX,EAAOW,MAHpB,SAMyBT,IAAOC,oBAAoBC,IAAI,oBAAqB,CACzEJ,WAPJ,cAMQK,EANR,yBASS,CACLL,SACAM,KAAMD,EAASC,KAAKA,OAXxB,2CAF4C,uDAkBjCM,EAAUb,YACrB,gBADqC,uCAErC,WAAOc,EAAP,oBAAAZ,EAAA,6DAAea,EAAf,EAAeA,SAAUC,EAAzB,EAAyBA,SAAzB,SACQb,IAAOC,oBAAoBa,KAAK,YAAa,CAAEH,SADvD,uBAEQC,EAAShB,EAAQiB,IAAWE,MAAMjB,SAF1C,gCAGSa,GAHT,2CAFqC,yDAS1BK,EAAanB,YACxB,mBADwC,uCAExC,qCAAAE,EAAA,6DAASkB,EAAT,EAASA,GAAIC,EAAb,EAAaA,KAAUN,EAAvB,EAAuBA,SAAUC,EAAjC,EAAiCA,SAAjC,SACQb,IAAOC,oBAAoBa,KAAK,0BAA2B,CAC/DG,KACAC,SAHJ,uBAKQN,EAAShB,EAAQiB,IAAWE,MAAMjB,SAL1C,gCAMS,CAAEmB,KAAIC,SANf,2CAFwC,yDAY7BC,EAAatB,YACxB,mBADwC,uCAExC,WAAOoB,EAAP,oBAAAlB,EAAA,6DAAaa,EAAb,EAAaA,SAAUC,EAAvB,EAAuBA,SAAvB,SACQb,IAAOC,oBAAoBmB,OAAO,qBAAsB,CAAEH,OADlE,uBAEQL,EAAShB,EAAQiB,IAAWE,MAAMjB,SAF1C,gCAGSmB,GAHT,2CAFwC,yDAS7BI,EAAaC,YAAY,CACpCJ,KAAM,QACNK,aAAc,CACZC,UAAW,QAEXC,cANgB,EAOhBC,kBAAkB,EAClBC,aAAc,EACdC,YAAa,GAGbC,OAZgB,EAahBC,WAAW,EACXC,MAAO,EACP3B,KAAM,GAEN4B,SAAU,MAEZC,SAAU,CACRC,WAAY,SAACC,EAAOC,GACK,OAAnBA,EAAOC,QACTF,EAAMH,SAAW,KAEjBG,EAAMH,SAAWI,EAAOC,UAI9BC,cAAe,SAACC,GACdA,EAEGC,QAAQ5C,EAAQ6C,SAAS,SAACN,GACzBA,EAAMN,OAAS,UACfM,EAAML,WAAY,KAEnBU,QAAQ5C,EAAQ8C,WAAW,SAACP,EAAOC,GAClCD,EAAMN,OAAS,YACfM,EAAML,WAAY,EAClBK,EAAM/B,KAAOgC,EAAOC,QAAQjC,QAE7BoC,QAAQ5C,EAAQ+C,UAAU,SAACR,EAAOC,GACjCD,EAAMN,OAAS,SACfM,EAAML,WAAY,EAClBK,EAAMJ,MAAQK,EAAOL,MAAMa,WAI5BJ,QAAQnC,EAAeoC,SAAS,SAACN,GAChCA,EAAMV,cAAgB,UACtBU,EAAMT,kBAAmB,KAE1Bc,QAAQnC,EAAeqC,WAAW,SAACP,EAAOC,GAEzCD,EAAMV,cAAgB,YACtBU,EAAMT,kBAAmB,EACzBS,EAAMP,YAAcQ,EAAOC,QAAQjC,QAEpCoC,QAAQnC,EAAesC,UAAU,SAACR,EAAOC,GACxCD,EAAMV,cAAgB,SACtBU,EAAMT,kBAAmB,EACzBS,EAAMR,aAAeS,EAAOL,MAAMa,cAK3BV,EAAeb,EAAWwB,QAA1BX,WAEAb,YAAf","file":"static/js/79.2fc5b20c.chunk.js","sourcesContent":["// ** Redux Imports\r\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\"\r\nimport useJwt from \"@src/auth/jwt/useJwt\"\r\n\r\nexport const getData = createAsyncThunk(\"role/getData\", async (params) => {\r\n  const response = await useJwt.ssoAxiosInterceptor.get(\"/api/role\", {\r\n    params\r\n  })\r\n  return {\r\n    data: response.data.data\r\n  }\r\n})\r\n\r\nexport const getSummaryData = createAsyncThunk(\r\n  \"role/getSummaryData\",\r\n  async (params) => {\r\n    Object.keys(params).forEach((key) => {\r\n      if (params[key] === null || params[key] === \"\") {\r\n        delete params[key]\r\n      }\r\n    })\r\n    const response = await useJwt.ssoAxiosInterceptor.get(\"/api/role/summary\", {\r\n      params\r\n    })\r\n    return {\r\n      params,\r\n      data: response.data.data\r\n    }\r\n  }\r\n)\r\n\r\nexport const addRole = createAsyncThunk(\r\n  \"roles/addRole\",\r\n  async (role, { dispatch, getState }) => {\r\n    await useJwt.ssoAxiosInterceptor.post(\"/api/role\", { role })\r\n    await dispatch(getData(getState().roles.params))\r\n    return role\r\n  }\r\n)\r\n\r\nexport const updateRole = createAsyncThunk(\r\n  \"roles/updateRole\",\r\n  async ({ id, name }, { dispatch, getState }) => {\r\n    await useJwt.ssoAxiosInterceptor.post(\"/apps/roles/update-role\", {\r\n      id,\r\n      name\r\n    })\r\n    await dispatch(getData(getState().roles.params))\r\n    return { id, name }\r\n  }\r\n)\r\n\r\nexport const deleteRole = createAsyncThunk(\r\n  \"roles/deleteRole\",\r\n  async (id, { dispatch, getState }) => {\r\n    await useJwt.ssoAxiosInterceptor.delete(\"/apps/roles/delete\", { id })\r\n    await dispatch(getData(getState().roles.params))\r\n    return id\r\n  }\r\n)\r\nconst fetchStatus = \"idle\" | \"loading\" | \"succeeded\" | \"failed\"\r\nexport const rolesSlice = createSlice({\r\n  name: \"roles\",\r\n  initialState: {\r\n    crudTitle: \"Roles\",\r\n    // SUMMARY\r\n    statusSummary: fetchStatus,\r\n    isLoadingSummary: false,\r\n    errorSummary: \"\" | null,\r\n    dataSummary: [],\r\n\r\n    // ALL\r\n    status: fetchStatus,\r\n    isLoading: false,\r\n    error: \"\" | null,\r\n    data: [],\r\n\r\n    selected: null\r\n  },\r\n  reducers: {\r\n    selectRole: (state, action) => {\r\n      if (action.payload === null) {\r\n        state.selected = null\r\n      } else {\r\n        state.selected = action.payload\r\n      }\r\n    }\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      ///ALL\r\n      .addCase(getData.pending, (state) => {\r\n        state.status = \"loading\"\r\n        state.isLoading = true\r\n      })\r\n      .addCase(getData.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\"\r\n        state.isLoading = false\r\n        state.data = action.payload.data\r\n      })\r\n      .addCase(getData.rejected, (state, action) => {\r\n        state.status = \"failed\"\r\n        state.isLoading = false\r\n        state.error = action.error.message\r\n      })\r\n\r\n      ///SUMMARY\r\n      .addCase(getSummaryData.pending, (state) => {\r\n        state.statusSummary = \"loading\"\r\n        state.isLoadingSummary = true\r\n      })\r\n      .addCase(getSummaryData.fulfilled, (state, action) => {\r\n        // console.log(action.payload)\r\n        state.statusSummary = \"succeeded\"\r\n        state.isLoadingSummary = false\r\n        state.dataSummary = action.payload.data\r\n      })\r\n      .addCase(getSummaryData.rejected, (state, action) => {\r\n        state.statusSummary = \"failed\"\r\n        state.isLoadingSummary = false\r\n        state.errorSummary = action.error.message\r\n      })\r\n  }\r\n})\r\n\r\nexport const { selectRole } = rolesSlice.actions\r\n\r\nexport default rolesSlice.reducer\r\n"],"sourceRoot":""}