{"version":3,"sources":["views/pages/authentication/Register.js"],"names":["defaultValues","email","terms","username","password","Register","ability","useContext","AbilityContext","skin","useSkin","navigate","useNavigate","dispatch","useDispatch","useForm","control","setError","handleSubmit","errors","formState","illustration","source","require","default","className","to","onClick","e","preventDefault","viewBox","version","height","x1","y1","x2","y2","id","stopColor","offset","stopOpacity","stroke","strokeWidth","fill","fillRule","transform","d","style","opacity","points","lg","sm","src","alt","md","tag","action","onSubmit","data","tempData","Object","values","every","field","length","useJwt","register","then","res","error","property","type","message","user","accessToken","update","handleLogin","catch","err","console","log","key","for","name","render","autoFocus","placeholder","invalid","checked","value","href","block","color","size"],"mappings":"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","file":"static/js/92.b75c1734.chunk.js","sourcesContent":["// ** React Imports\r\nimport { useContext } from \"react\"\r\nimport { Link, useNavigate } from \"react-router-dom\"\r\n\r\n// ** Custom Hooks\r\nimport { useSkin } from \"@hooks/useSkin\"\r\nimport useJwt from \"@src/auth/jwt/useJwt\"\r\n\r\n// ** Store & Actions\r\nimport { useDispatch } from \"react-redux\"\r\nimport { handleLogin } from \"@store/authentication\"\r\n\r\n// ** Third Party Components\r\nimport { useForm, Controller } from \"react-hook-form\"\r\nimport { Facebook, Twitter, Mail, GitHub } from \"react-feather\"\r\n\r\n// ** Context\r\nimport { AbilityContext } from \"@src/utility/context/Can\"\r\n\r\n// ** Custom Components\r\nimport InputPasswordToggle from \"@components/input-password-toggle\"\r\n\r\n// ** Reactstrap Imports\r\nimport {\r\n  Row,\r\n  Col,\r\n  CardTitle,\r\n  CardText,\r\n  Label,\r\n  Button,\r\n  Form,\r\n  Input,\r\n  FormFeedback\r\n} from \"reactstrap\"\r\n\r\n// ** Styles\r\nimport \"@styles/react/pages/page-authentication.scss\"\r\n\r\nconst defaultValues = {\r\n  email: \"\",\r\n  terms: false,\r\n  username: \"\",\r\n  password: \"\"\r\n}\r\n\r\nconst Register = () => {\r\n  // ** Hooks\r\n  const ability = useContext(AbilityContext)\r\n  const { skin } = useSkin()\r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch()\r\n  const {\r\n    control,\r\n    setError,\r\n    handleSubmit,\r\n    formState: { errors }\r\n  } = useForm({ defaultValues })\r\n\r\n  const illustration =\r\n      skin === \"dark\" ? \"register-v2-dark.svg\" : \"register-v2.svg\",\r\n    source = require(`@src/assets/images/pages/${illustration}`).default\r\n\r\n  const onSubmit = (data) => {\r\n    const tempData = { ...data }\r\n    delete tempData.terms\r\n    if (\r\n      Object.values(tempData).every((field) => field.length > 0) &&\r\n      data.terms === true\r\n    ) {\r\n      const { username, email, password } = data\r\n      useJwt\r\n        .register({ username, email, password })\r\n        .then((res) => {\r\n          if (res.data.error) {\r\n            for (const property in res.data.error) {\r\n              if (res.data.error[property] !== null) {\r\n                setError(property, {\r\n                  type: \"manual\",\r\n                  message: res.data.error[property]\r\n                })\r\n              }\r\n            }\r\n          } else {\r\n            const data = {\r\n              ...res.data.user,\r\n              accessToken: res.data.accessToken\r\n            }\r\n            ability.update(res.data.user.ability)\r\n            dispatch(handleLogin(data))\r\n            navigate(\"/\")\r\n          }\r\n        })\r\n        .catch((err) => console.log(err))\r\n    } else {\r\n      for (const key in data) {\r\n        if (data[key].length === 0) {\r\n          setError(key, {\r\n            type: \"manual\",\r\n            message: `Please enter a valid ${key}`\r\n          })\r\n        }\r\n        if (key === \"terms\" && data.terms === false) {\r\n          setError(\"terms\", {\r\n            type: \"manual\"\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"auth-wrapper auth-cover\">\r\n      <Row className=\"auth-inner m-0\">\r\n        <Link className=\"brand-logo\" to=\"/\" onClick={(e) => e.preventDefault()}>\r\n          <svg viewBox=\"0 0 139 95\" version=\"1.1\" height=\"28\">\r\n            <defs>\r\n              <linearGradient\r\n                x1=\"100%\"\r\n                y1=\"10.5120544%\"\r\n                x2=\"50%\"\r\n                y2=\"89.4879456%\"\r\n                id=\"linearGradient-1\"\r\n              >\r\n                <stop stopColor=\"#000000\" offset=\"0%\"></stop>\r\n                <stop stopColor=\"#FFFFFF\" offset=\"100%\"></stop>\r\n              </linearGradient>\r\n              <linearGradient\r\n                x1=\"64.0437835%\"\r\n                y1=\"46.3276743%\"\r\n                x2=\"37.373316%\"\r\n                y2=\"100%\"\r\n                id=\"linearGradient-2\"\r\n              >\r\n                <stop stopColor=\"#EEEEEE\" stopOpacity=\"0\" offset=\"0%\"></stop>\r\n                <stop stopColor=\"#FFFFFF\" offset=\"100%\"></stop>\r\n              </linearGradient>\r\n            </defs>\r\n            <g\r\n              id=\"Page-1\"\r\n              stroke=\"none\"\r\n              strokeWidth=\"1\"\r\n              fill=\"none\"\r\n              fillRule=\"evenodd\"\r\n            >\r\n              <g id=\"Artboard\" transform=\"translate(-400.000000, -178.000000)\">\r\n                <g id=\"Group\" transform=\"translate(400.000000, 178.000000)\">\r\n                  <path\r\n                    d=\"M-5.68434189e-14,2.84217094e-14 L39.1816085,2.84217094e-14 L69.3453773,32.2519224 L101.428699,2.84217094e-14 L138.784583,2.84217094e-14 L138.784199,29.8015838 C137.958931,37.3510206 135.784352,42.5567762 132.260463,45.4188507 C128.736573,48.2809251 112.33867,64.5239941 83.0667527,94.1480575 L56.2750821,94.1480575 L6.71554594,44.4188507 C2.46876683,39.9813776 0.345377275,35.1089553 0.345377275,29.8015838 C0.345377275,24.4942122 0.230251516,14.560351 -5.68434189e-14,2.84217094e-14 Z\"\r\n                    id=\"Path\"\r\n                    className=\"text-primary\"\r\n                    style={{ fill: \"currentColor\" }}\r\n                  ></path>\r\n                  <path\r\n                    d=\"M69.3453773,32.2519224 L101.428699,1.42108547e-14 L138.784583,1.42108547e-14 L138.784199,29.8015838 C137.958931,37.3510206 135.784352,42.5567762 132.260463,45.4188507 C128.736573,48.2809251 112.33867,64.5239941 83.0667527,94.1480575 L56.2750821,94.1480575 L32.8435758,70.5039241 L69.3453773,32.2519224 Z\"\r\n                    id=\"Path\"\r\n                    fill=\"url(#linearGradient-1)\"\r\n                    opacity=\"0.2\"\r\n                  ></path>\r\n                  <polygon\r\n                    id=\"Path-2\"\r\n                    fill=\"#000000\"\r\n                    opacity=\"0.049999997\"\r\n                    points=\"69.3922914 32.4202615 32.8435758 70.5039241 54.0490008 16.1851325\"\r\n                  ></polygon>\r\n                  <polygon\r\n                    id=\"Path-2\"\r\n                    fill=\"#000000\"\r\n                    opacity=\"0.099999994\"\r\n                    points=\"69.3922914 32.4202615 32.8435758 70.5039241 58.3683556 20.7402338\"\r\n                  ></polygon>\r\n                  <polygon\r\n                    id=\"Path-3\"\r\n                    fill=\"url(#linearGradient-2)\"\r\n                    opacity=\"0.099999994\"\r\n                    points=\"101.428699 0 83.0667527 94.1480575 130.378721 47.0740288\"\r\n                  ></polygon>\r\n                </g>\r\n              </g>\r\n            </g>\r\n          </svg>\r\n          <h2 className=\"brand-text text-primary ms-1\">Vuexy</h2>\r\n        </Link>\r\n        <Col className=\"d-none d-lg-flex align-items-center p-5\" lg=\"8\" sm=\"12\">\r\n          <div className=\"w-100 d-lg-flex align-items-center justify-content-center px-5\">\r\n            <img className=\"img-fluid\" src={source} alt=\"Login Cover\" />\r\n          </div>\r\n        </Col>\r\n        <Col\r\n          className=\"d-flex align-items-center auth-bg px-2 p-lg-5\"\r\n          lg=\"4\"\r\n          sm=\"12\"\r\n        >\r\n          <Col className=\"px-xl-2 mx-auto\" sm=\"8\" md=\"6\" lg=\"12\">\r\n            <CardTitle tag=\"h2\" className=\"fw-bold mb-1\">\r\n              Adventure starts here ðŸš€\r\n            </CardTitle>\r\n            <CardText className=\"mb-2\">\r\n              Make your app management easy and fun!\r\n            </CardText>\r\n\r\n            <Form\r\n              action=\"/\"\r\n              className=\"auth-register-form mt-2\"\r\n              onSubmit={handleSubmit(onSubmit)}\r\n            >\r\n              <div className=\"mb-1\">\r\n                <Label className=\"form-label\" for=\"register-username\">\r\n                  Username\r\n                </Label>\r\n                <Controller\r\n                  id=\"username\"\r\n                  name=\"username\"\r\n                  control={control}\r\n                  render={({ field }) => (\r\n                    <Input\r\n                      autoFocus\r\n                      placeholder=\"johndoe\"\r\n                      invalid={errors.username && true}\r\n                      {...field}\r\n                    />\r\n                  )}\r\n                />\r\n                {errors.username ? (\r\n                  <FormFeedback>{errors.username.message}</FormFeedback>\r\n                ) : null}\r\n              </div>\r\n              <div className=\"mb-1\">\r\n                <Label className=\"form-label\" for=\"register-email\">\r\n                  Email\r\n                </Label>\r\n                <Controller\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  control={control}\r\n                  render={({ field }) => (\r\n                    <Input\r\n                      type=\"email\"\r\n                      placeholder=\"john@example.com\"\r\n                      invalid={errors.email && true}\r\n                      {...field}\r\n                    />\r\n                  )}\r\n                />\r\n                {errors.email ? (\r\n                  <FormFeedback>{errors.email.message}</FormFeedback>\r\n                ) : null}\r\n              </div>\r\n              <div className=\"mb-1\">\r\n                <Label className=\"form-label\" for=\"register-password\">\r\n                  Password\r\n                </Label>\r\n                <Controller\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  control={control}\r\n                  render={({ field }) => (\r\n                    <InputPasswordToggle\r\n                      className=\"input-group-merge\"\r\n                      invalid={errors.password && true}\r\n                      {...field}\r\n                    />\r\n                  )}\r\n                />\r\n              </div>\r\n              <div className=\"form-check mb-1\">\r\n                <Controller\r\n                  name=\"terms\"\r\n                  control={control}\r\n                  render={({ field }) => (\r\n                    <Input\r\n                      {...field}\r\n                      id=\"terms\"\r\n                      type=\"checkbox\"\r\n                      checked={field.value}\r\n                      invalid={errors.terms && true}\r\n                    />\r\n                  )}\r\n                />\r\n                <Label className=\"form-check-label\" for=\"terms\">\r\n                  I agree to\r\n                  <a\r\n                    className=\"ms-25\"\r\n                    href=\"/\"\r\n                    onClick={(e) => e.preventDefault()}\r\n                  >\r\n                    privacy policy & terms\r\n                  </a>\r\n                </Label>\r\n              </div>\r\n              <Button type=\"submit\" block color=\"primary\">\r\n                Sign up\r\n              </Button>\r\n            </Form>\r\n            <p className=\"text-center mt-2\">\r\n              <span className=\"me-25\">Already have an account?</span>\r\n              <Link to=\"/login\">\r\n                <span>Sign in instead</span>\r\n              </Link>\r\n            </p>\r\n            <div className=\"divider my-2\">\r\n              <div className=\"divider-text\">or</div>\r\n            </div>\r\n            <div className=\"auth-footer-btn d-flex justify-content-center\">\r\n              <Button color=\"facebook\">\r\n                <Facebook size={14} />\r\n              </Button>\r\n              <Button color=\"twitter\">\r\n                <Twitter size={14} />\r\n              </Button>\r\n              <Button color=\"google\">\r\n                <Mail size={14} />\r\n              </Button>\r\n              <Button className=\"me-0\" color=\"github\">\r\n                <GitHub size={14} />\r\n              </Button>\r\n            </div>\r\n          </Col>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register\r\n"],"sourceRoot":""}