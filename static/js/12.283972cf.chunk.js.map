{"version":3,"sources":["shared/GlobalUnitDropdown.js","@core/components/sidebar/index.js","views/apps/user/Sidebar.js","views/apps/user/Table.js"],"names":["GlobalUnitDropdown","parentChange","colMode","colSize","initialValue","colClassName","t","useTranslation","dispatch","getUserData","useDispatch","store","useSelector","state","units","useState","unitOptions","setUnitOptions","value","label","currentUnit","setCurrentUnit","handleChange","data","useEffect","dataDropdown","filter","item","selectedUnit","length","md","className","for","theme","selectThemeColors","isClearable","classNamePrefix","options","onChange","e","getOptionLabel","option","code","Sidebar","props","open","size","title","width","children","closeBtn","toggleSidebar","bodyClassName","contentClassName","wrapperClassName","headerClassName","rest","renderCloseBtn","onClick","isOpen","toggle","classnames","modalClassName","undefined","style","String","close","tag","wheelPropagation","defaultValues","email","password","phone","member_of","id_role","name","username","SidebarNewUsers","colors","useContext","ThemeColors","setData","idRole","setIdRole","idUnit","setIdUnit","storeRole","users","roles","storeUnit","useForm","control","setValue","setError","handleSubmit","errors","formState","map","id","onClosed","key","onSubmit","Object","values","every","field","checkIsValid","addUser","avatar","status","then","res","meta","requestStatus","toast","success","padding","color","main","border","iconTheme","primary","message","payload","error_reason","error","danger","type","defaultValue","rules","required","pattern","render","placeholder","invalid","minLength","maxLength","closeMenuOnSelect","isMulti","vaue","outline","MySwal","withReactContent","Swal","CustomHeader","handlePerPage","rowsPerPage","handleFilter","searchTerm","ability","AbilityContext","downloadCSV","array","link","document","createElement","csv","result","keys","join","forEach","ctr","convertArrayOfObjectsToCSV","match","setAttribute","encodeURI","click","xl","htmlFor","target","caret","can","sessionStorage","getItem","crudTitle","UsersList","sort_dir","setSortDir","setSearchTerm","params","page","currentPage","setCurrentPage","sort","setSort","setRowsPerPage","sidebarOpen","setSidebarOpen","currentRole","setCurrentRole","number","currentStatus","setCurrentStatus","roleOptions","setRoleOptions","loading","setLoading","showModal","setShowModal","handleCloseModal","revivalBack","neutralizeBack","isLoading","roleOptionss","unshift","getDataRole","x","getData","search","filter_role","filter_status","filter_unit","statusObj","pending","active","inactive","renderClient","row","img","height","initials","avatarColor","content","columns","sortable","minWidth","sortField","selector","cell","to","role_name","roleObj","public","class","icon","User","viewer","Eye","editor","Edit2","admin","Settings","super_user","Slack","Icon","renderRole","billing","Moment","joined_date","format","is_active","pill","end","Link","getUser","href","preventDefault","handleEdit","handleDelete","tableColumns","useMemo","column","sx","bgcolor","dark","light","animation","statusOptions","Loader","fire","text","showCancelButton","confirmButtonText","cancelButtonText","customClass","confirmButton","cancelButton","buttonsStyling","deleteUser","selectedUser","parseInt","isLoadingDetail","blocking","loader","noHeader","subHeader","sortServer","pagination","responsive","paginationServer","onSort","sortDirection","sortIcon","paginationComponent","count","Number","Math","ceil","total","previousLabel","nextLabel","pageCount","activeClassName","forcePage","onPageChange","selected","handlePagination","pageClassName","nextLinkClassName","nextClassName","previousClassName","previousLinkClassName","pageLinkClassName","containerClassName","filters","isFiltered","some","k","Array","fill","dataToRender","subHeaderComponent","val","currentTarget","show","setShow","detailPage"],"mappings":"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","file":"static/js/12.283972cf.chunk.js","sourcesContent":["// ** React Imports\r\nimport { Fragment, useState, useEffect, useCallback, useMemo } from \"react\"\r\n\r\n// ** Reactstrap Imports\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  CardTitle,\r\n  Row,\r\n  Col,\r\n  Label,\r\n  Form\r\n} from \"reactstrap\"\r\n\r\nimport Select from \"react-select\"\r\n\r\nimport { useTranslation } from \"react-i18next\"\r\n\r\n// ** Utils\r\nimport { selectThemeColors, getUserData } from \"@utils\"\r\n// ** Store & Actions\r\nimport {\r\n  getUnits,\r\n  setUnitSelected,\r\n  setUnitSelectedDropdown\r\n} from \"../views/apps/unit/store\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { useForm, Controller } from \"react-hook-form\"\r\n\r\nconst GlobalUnitDropdown = ({\r\n  parentChange,\r\n  colMode = false,\r\n  colSize = 6,\r\n  initialValue = true,\r\n  colClassName = \"\"\r\n}) => {\r\n  const { t } = useTranslation()\r\n  const userData = getUserData()\r\n  const dispatch = useDispatch()\r\n  const store = useSelector((state) => state.units)\r\n  const [unitOptions, setUnitOptions] = useState([])\r\n  const [currentUnit, setCurrentUnit] = useState(\r\n    initialValue\r\n      ? {\r\n          value: \"\",\r\n          label: `${t(\"Select\")} ${t(\"Unit\")}`\r\n        }\r\n      : {}\r\n  )\r\n\r\n  const handleChange = (data, parentChange) => {\r\n    setCurrentUnit(data)\r\n    // localStorage.setItem(\"last_id_unit\", data.value)\r\n    if (typeof parentChange === \"function\") {\r\n      parentChange(data)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    // if (store.data.length === 0 && !store.isLoading) {\r\n    //   dispatch(getUnits())\r\n    // }\r\n    // console.log(userData.member_of)\r\n    const unitOptions = initialValue\r\n      ? store.dataDropdown\r\n      : store.dataDropdown.filter((item) => item.value !== \"\")\r\n\r\n    setUnitOptions(unitOptions)\r\n    setCurrentUnit(initialValue ? store.selectedUnit : unitOptions[0])\r\n  }, [dispatch, store.dataDropdown])\r\n\r\n  return store.data?.length > 1 ? (\r\n    !colMode ? (\r\n      <Card>\r\n        {/* <CardHeader>\r\n        <CardTitle tag=\"h4\">{t(\"Filters\")}</CardTitle>\r\n      </CardHeader> */}\r\n        <CardBody>\r\n          <Row>\r\n            <Label className=\"\" for=\"plan-select\">\r\n              {t(\"Unit\")}\r\n            </Label>\r\n            <Select\r\n              theme={selectThemeColors}\r\n              isClearable={false}\r\n              className=\"react-select\"\r\n              classNamePrefix=\"select\"\r\n              options={unitOptions}\r\n              value={currentUnit}\r\n              onChange={(e) => {\r\n                handleChange(e, parentChange)\r\n              }}\r\n              getOptionLabel={(option) =>\r\n                option.code\r\n                  ? `${option.code} ${option.label}`\r\n                  : `${option.label}`\r\n              }\r\n            />\r\n          </Row>\r\n        </CardBody>\r\n      </Card>\r\n    ) : (\r\n      <Col md={`${colSize}`} className={colClassName}>\r\n        <Label className=\"\" for=\"plan-select\">\r\n          {t(\"Unit\")}\r\n        </Label>\r\n        <Select\r\n          theme={selectThemeColors}\r\n          isClearable={false}\r\n          className=\"react-select\"\r\n          classNamePrefix=\"select\"\r\n          options={unitOptions}\r\n          value={currentUnit}\r\n          onChange={(e) => {\r\n            handleChange(e, parentChange)\r\n          }}\r\n          getOptionLabel={(option) =>\r\n            option.code ? `${option.code} ${option.label}` : `${option.label}`\r\n          }\r\n          // styles={{ menu: (base) => ({ ...base, base.children fontWeight: \"bold\" }) }}\r\n        />\r\n      </Col>\r\n    )\r\n  ) : null\r\n}\r\n\r\nexport default GlobalUnitDropdown\r\n","// ** Third Party Components\r\nimport { X } from \"react-feather\"\r\nimport Proptypes from \"prop-types\"\r\nimport classnames from \"classnames\"\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\"\r\n\r\nimport { Modal, ModalHeader, ModalBody } from \"reactstrap\"\r\n\r\nconst Sidebar = (props) => {\r\n  // ** Props\r\n  const {\r\n    open,\r\n    size,\r\n    title,\r\n    width,\r\n    children,\r\n    closeBtn,\r\n    className,\r\n    toggleSidebar,\r\n    bodyClassName,\r\n    contentClassName,\r\n    wrapperClassName,\r\n    headerClassName,\r\n    ...rest\r\n  } = props\r\n\r\n  // ** If user passes custom close btn render that else default close btn\r\n  const renderCloseBtn = closeBtn ? (\r\n    closeBtn\r\n  ) : (\r\n    <X className=\"cursor-pointer\" size={15} onClick={toggleSidebar} />\r\n  )\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={open}\r\n      toggle={toggleSidebar}\r\n      contentClassName={classnames(\"overflow-hidden\", {\r\n        [contentClassName]: contentClassName\r\n      })}\r\n      modalClassName={classnames(\"modal-slide-in\", {\r\n        [wrapperClassName]: wrapperClassName\r\n      })}\r\n      className={classnames({\r\n        [className]: className,\r\n        \"sidebar-lg\": size === \"lg\",\r\n        \"sidebar-sm\": size === \"sm\"\r\n      })}\r\n      /*eslint-disable */\r\n      {...(width !== undefined\r\n        ? {\r\n            style: { width: String(width) + \"px\" },\r\n          }\r\n        : {})}\r\n      /*eslint-enable */\r\n      {...rest}\r\n    >\r\n      <ModalHeader\r\n        className={classnames({\r\n          [headerClassName]: headerClassName\r\n        })}\r\n        toggle={toggleSidebar}\r\n        close={renderCloseBtn}\r\n        tag=\"div\"\r\n      >\r\n        <h5 className=\"modal-title\">\r\n          <span className=\"align-middle\">{title}</span>\r\n        </h5>\r\n      </ModalHeader>\r\n      <PerfectScrollbar options={{ wheelPropagation: false }}>\r\n        <ModalBody\r\n          className={classnames(\"flex-grow-1\", {\r\n            [bodyClassName]: bodyClassName\r\n          })}\r\n        >\r\n          {children}\r\n        </ModalBody>\r\n      </PerfectScrollbar>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default Sidebar\r\n\r\n// ** PropTypes\r\nSidebar.propTypes = {\r\n  className: Proptypes.string,\r\n  bodyClassName: Proptypes.string,\r\n  open: Proptypes.bool.isRequired,\r\n  title: Proptypes.string.isRequired,\r\n  contentClassName: Proptypes.string,\r\n  wrapperClassName: Proptypes.string,\r\n  children: Proptypes.any.isRequired,\r\n  size: Proptypes.oneOf([\"sm\", \"lg\"]),\r\n  toggleSidebar: Proptypes.func.isRequired,\r\n  width: Proptypes.oneOfType([Proptypes.number, Proptypes.string])\r\n}\r\n","/* eslint-disable implicit-arrow-linebreak */\r\n/* eslint-disable no-confusing-arrow */\r\n// ** React Import\r\nimport { useState, useContext, useEffect } from \"react\"\r\nimport Sidebar from \"@components/sidebar\"\r\nimport { selectThemeColors } from \"@utils\"\r\nimport Select from \"react-select\"\r\nimport classnames from \"classnames\"\r\nimport { useForm, Controller } from \"react-hook-form\"\r\nimport { Button, Label, FormText, Form, Input } from \"reactstrap\"\r\nimport store, { addUser } from \"@src/views/apps/user/store\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport toast from \"react-hot-toast\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { ThemeColors } from \"@src/utility/context/ThemeColors\"\r\nimport InputPasswordToggle from \"@components/input-password-toggle\"\r\nconst defaultValues = {\r\n  email: \"\",\r\n  password: \"\",\r\n  phone: \"\",\r\n  member_of: \"\",\r\n  id_role: \"\",\r\n  name: \"\",\r\n  username: \"\"\r\n}\r\n\r\nconst checkIsValid = (data) => {\r\n  return Object.values(data).every((field) =>\r\n    typeof field === \"object\" || field !== \"member_of\"\r\n      ? field !== null && field !== \"\"\r\n      : field.length > 0\r\n  )\r\n}\r\n\r\nconst SidebarNewUsers = ({ open, toggleSidebar }) => {\r\n  // ** Hooks\r\n  const { t } = useTranslation()\r\n\r\n  // ** Theme Colors\r\n  const { colors } = useContext(ThemeColors)\r\n\r\n  // ** States\r\n  const [data, setData] = useState({})\r\n  const [idRole, setIdRole] = useState(3)\r\n  const [idUnit, setIdUnit] = useState([])\r\n  const store = useSelector((state) => state.users)\r\n  const storeRole = useSelector((state) => state.roles)\r\n  const storeUnit = useSelector((state) => state.units)\r\n  // ** Store Vars\r\n  const dispatch = useDispatch()\r\n\r\n  // ** Vars\r\n  const {\r\n    control,\r\n    setValue,\r\n    setError,\r\n    handleSubmit,\r\n    formState: { errors }\r\n  } = useForm({ defaultValues })\r\n\r\n  // ** Function to handle form submit\r\n  const onSubmit = (data) => {\r\n    // console.log(data)\r\n    data[\"member_of\"] = idUnit !== null ? idUnit.map((item) => item.value) : []\r\n    data[\"id_role\"] = idRole !== null ? idRole : null\r\n    setData(data)\r\n    // console.log(data)\r\n    if (checkIsValid(data)) {\r\n      dispatch(\r\n        addUser({\r\n          id_role: data?.id_role,\r\n          avatar: \"\",\r\n          status: 1,\r\n          email: data.email,\r\n          member_of: data?.member_of,\r\n          phone: data.phone,\r\n          name: data.name,\r\n          username: data.username,\r\n          password: data.password\r\n        })\r\n      ).then((res) => {\r\n        if (res.meta.requestStatus === \"fulfilled\") {\r\n          toggleSidebar()\r\n          toast.success(`${t(\"Successfully Create Data\")}`, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.success.main,\r\n              border: `1px solid ${colors.success.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.success.main\r\n            }\r\n          })\r\n        } else if (res.meta.requestStatus === \"rejected\") {\r\n          // console.log(store.errorAddEdit)\r\n          let message = \"\"\r\n          if (res.payload.errors) {\r\n            message = Object.values(res.payload.errors)\r\n          } else if (res.payload.error_reason) {\r\n            message = res.payload.message\r\n          }\r\n          toast.error(`${t(message)}`, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.danger.main,\r\n              border: `1px solid ${colors.danger.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.danger.main\r\n            }\r\n          })\r\n        }\r\n      })\r\n    } else {\r\n      for (const key in data) {\r\n        if (data[key] !== null && data[key].length === 0) {\r\n          setError(key, {\r\n            type: \"manual\"\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleSidebarClosed = () => {\r\n    for (const key in defaultValues) {\r\n      setValue(key, \"\")\r\n    }\r\n    // setRole(null)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const selectedUnit = storeUnit.data.map((item) => ({\r\n      value: item.id,\r\n      label: item.name\r\n    }))\r\n    // console.log(selectedUnit[0])\r\n    setIdUnit([selectedUnit[0]])\r\n  }, [dispatch, storeUnit.data.length])\r\n\r\n  return (\r\n    <Sidebar\r\n      size=\"lg\"\r\n      open={open}\r\n      title={t(\"New User\")}\r\n      headerClassName=\"mb-1\"\r\n      contentClassName=\"pt-0\"\r\n      toggleSidebar={toggleSidebar}\r\n      onClosed={handleSidebarClosed}\r\n    >\r\n      <Form onSubmit={handleSubmit(onSubmit)}>\r\n        <div className=\"mb-1\">\r\n          <Label className=\"form-label\" for=\"name\">\r\n            {t(\"Full Name\")}\r\n            <span className=\"text-danger\">*</span>\r\n          </Label>\r\n          <Controller\r\n            defaultValue=\"\"\r\n            control={control}\r\n            rules={{\r\n              required: true,\r\n              pattern: {\r\n                value: /^[a-zA-Z\\s]*$/,\r\n                message: t(\"Invalid name, you can only use letters\")\r\n              }\r\n            }}\r\n            id=\"name\"\r\n            name=\"name\"\r\n            render={({ field }) => (\r\n              <Input\r\n                {...field}\r\n                id=\"name\"\r\n                placeholder=\"John\"\r\n                invalid={errors.name && true}\r\n              />\r\n            )}\r\n          />\r\n          {errors.name && (\r\n            <FormText color=\"danger\">{t(errors.name.message)}</FormText>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"mb-1\">\r\n          <Label className=\"form-label\" for=\"email\">\r\n            {t(\"Email\")} <span className=\"text-danger\">*</span>\r\n          </Label>\r\n          <Controller\r\n            name=\"email\"\r\n            control={control}\r\n            rules={{\r\n              required: {\r\n                value: true,\r\n                message: t(\"You need to specify a valid email address\")\r\n              },\r\n              pattern: {\r\n                value: /^\\S+@\\S+$/i,\r\n                message: t(\"Not valid email adreess.\")\r\n              }\r\n            }}\r\n            render={({ field }) => (\r\n              <Input\r\n                type=\"email\"\r\n                id=\"email\"\r\n                placeholder=\"john.doe@example.com\"\r\n                invalid={errors.email && true}\r\n                {...field}\r\n              />\r\n            )}\r\n          />\r\n          <FormText color=\"muted\">\r\n            {t(\"You can use letters, numbers & periods\")}\r\n          </FormText>\r\n        </div>\r\n\r\n        <div className=\"mb-1\">\r\n          <Label className=\"form-label\" for=\"username\">\r\n            {t(\"Username\")}\r\n            <span className=\"text-danger\">*</span>\r\n          </Label>\r\n          <Controller\r\n            defaultValue=\"\"\r\n            control={control}\r\n            rules={{\r\n              required: true,\r\n              minLength: {\r\n                value: 4,\r\n                message: t(\"minimum number of character is 4\")\r\n              },\r\n              maxLength: {\r\n                value: 15,\r\n                message: t(\"maximum number of character is 15\")\r\n              },\r\n              pattern: {\r\n                value:\r\n                  /^[a-zA-Z0-9]+([a-zA-Z0-9](_|-| )[a-zA-Z0-9])*[a-zA-Z0-9]+$/,\r\n                message: t(\r\n                  \"You can use letters and numbers without white space\"\r\n                )\r\n              }\r\n            }}\r\n            id=\"username\"\r\n            name=\"username\"\r\n            render={({ field }) => (\r\n              <Input\r\n                {...field}\r\n                id=\"username\"\r\n                placeholder=\"john.doe.007\"\r\n                invalid={errors.username && true}\r\n              />\r\n            )}\r\n          />\r\n          {errors.username && (\r\n            <FormText color=\"danger\">{t(errors.username.message)}</FormText>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"mb-1\">\r\n          <div className=\"d-flex justify-content-between\">\r\n            <Label className=\"form-label\" for=\"login-password\">\r\n              {t(\"Password\")} <span className=\"text-danger\">*</span>\r\n            </Label>\r\n          </div>\r\n          <Controller\r\n            defaultValue=\"\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            control={control}\r\n            rules={{\r\n              required: {\r\n                value: true,\r\n                message: t(\"Password is required\")\r\n              },\r\n              minLength: {\r\n                value: 8,\r\n                message: t(\"Password must have at least 8 characters\")\r\n              }\r\n            }}\r\n            render={({ field }) => (\r\n              <InputPasswordToggle\r\n                className=\"input-group-merge\"\r\n                invalid={errors.password && true}\r\n                {...field}\r\n              />\r\n            )}\r\n          />\r\n          {errors.password && (\r\n            <FormText color=\"danger\">{t(errors.password.message)}</FormText>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"mb-1\">\r\n          <Label className=\"form-label\" for=\"phone\">\r\n            {t(\"Mobile Phone Number\")}\r\n          </Label>\r\n          <Controller\r\n            defaultValue=\"\"\r\n            control={control}\r\n            rules={{\r\n              required: false,\r\n              pattern: {\r\n                value: /^[0-9+-]+$/,\r\n                message: \"This is not a valid mobile phone, try again!\"\r\n              },\r\n              minLength: {\r\n                value: 6,\r\n                message: \"This number is too short.\"\r\n              },\r\n              maxLength: {\r\n                value: 14,\r\n                message: \"...And now it's too long.\"\r\n              }\r\n            }}\r\n            id=\"phone\"\r\n            name=\"phone\"\r\n            render={({ field }) => (\r\n              <Input {...field} id=\"phone\" placeholder=\"+62 813 940 10XX X\" />\r\n            )}\r\n          />\r\n          {errors.phone && (\r\n            <FormText color=\"danger\">{t(errors.phone.message)}</FormText>\r\n          )}\r\n        </div>\r\n        <div className=\"mb-1\">\r\n          <Label className=\"form-label\" for=\"id_unit\">\r\n            {t(\"Unit\")}\r\n          </Label>\r\n          <Select\r\n            id=\"id_unit\"\r\n            isClearable={false}\r\n            theme={selectThemeColors}\r\n            closeMenuOnSelect={false}\r\n            // defaultValue={null}\r\n            onChange={(data) => {\r\n              setIdUnit(data)\r\n            }}\r\n            defaultValue={\r\n              storeUnit.data.map((item) => ({\r\n                value: item.id,\r\n                label: item.name\r\n              }))[0]\r\n            }\r\n            isMulti\r\n            options={storeUnit.data.map((item) => ({\r\n              value: item.id,\r\n              label: item.name\r\n            }))}\r\n            className=\"react-select\"\r\n            classNamePrefix=\"select\"\r\n          />\r\n        </div>\r\n        <div className=\"mb-1\">\r\n          <Label for=\"role-select\">{t(\"Role\")}</Label>\r\n          <Select\r\n            id=\"id_role\"\r\n            isClearable={false}\r\n            options={storeRole.data.map((item) => ({\r\n              value: item.id,\r\n              label: item.name\r\n            }))}\r\n            defaultValue={{\r\n              label: \"editor\",\r\n              vaue: 3\r\n            }}\r\n            classNamePrefix=\"select\"\r\n            className={classnames(\"react-select\", {\r\n              \"is-invalid\": idRole === null\r\n            })}\r\n            theme={selectThemeColors}\r\n            onChange={(data) => {\r\n              // console.log(data.value)\r\n              setIdRole(data.value)\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <Button type=\"submit\" className=\"me-1\" color=\"primary\">\r\n          {t(\"Submit\")}\r\n        </Button>\r\n        <Button type=\"reset\" color=\"secondary\" outline onClick={toggleSidebar}>\r\n          {t(\"Cancel\")}\r\n        </Button>\r\n      </Form>\r\n    </Sidebar>\r\n  )\r\n}\r\n\r\nexport default SidebarNewUsers\r\n","/* eslint-disable implicit-arrow-linebreak */\r\n/* eslint-disable no-confusing-arrow */\r\n/* eslint-disable multiline-ternary */\r\n\r\nimport { Fragment, useState, useEffect, useContext, useMemo } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { AbilityContext } from \"@src/utility/context/Can\"\r\nimport Sidebar from \"@src/views/apps/user/Sidebar\"\r\nimport ModalAddEdit from \"@src/views/apps/user/modal\"\r\nimport { neutralizeBack, revivalBack } from \"@src/utility/Utils\"\r\nimport Avatar from \"@components/avatar\"\r\nimport { getData, getUser, deleteUser } from \"@src/views/apps/user/store\"\r\nimport { getData as getDataRole } from \"@src/views/apps/roles-permissions/store/role\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport Select from \"react-select\"\r\nimport ReactPaginate from \"react-paginate\"\r\nimport DataTable from \"react-data-table-component\"\r\nimport {\r\n  ChevronDown,\r\n  Share,\r\n  Printer,\r\n  FileText,\r\n  File,\r\n  Grid,\r\n  Copy,\r\n  Slack,\r\n  User,\r\n  Settings,\r\n  Database,\r\n  Edit2,\r\n  MoreVertical,\r\n  Trash2,\r\n  Archive,\r\n  Eye\r\n} from \"react-feather\"\r\nimport UILoader from \"@components/ui-loader\"\r\nimport Spinner from \"@components/spinner/Loading-spinner\"\r\nimport { selectThemeColors } from \"@utils\"\r\nimport { ThemeColors } from \"@src/utility/context/ThemeColors\"\r\nimport GlobalUnitDropdown from \"@src/shared/GlobalUnitDropdown\"\r\nimport toast from \"react-hot-toast\"\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Input,\r\n  Label,\r\n  Button,\r\n  CardBody,\r\n  CardTitle,\r\n  CardHeader,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  DropdownToggle,\r\n  UncontrolledDropdown,\r\n  Badge,\r\n  CardText\r\n} from \"reactstrap\"\r\nimport \"@styles/react/libs/react-select/_react-select.scss\"\r\nimport \"@styles/react/libs/tables/react-dataTable-component.scss\"\r\nimport Swal from \"sweetalert2\"\r\nimport withReactContent from \"sweetalert2-react-content\"\r\nimport { Skeleton } from \"@mui/material\"\r\nimport Moment from \"moment\"\r\nconst MySwal = withReactContent(Swal)\r\n\r\n// ** Table Header\r\nconst CustomHeader = ({\r\n  store,\r\n  toggleSidebar,\r\n  handlePerPage,\r\n  rowsPerPage,\r\n  handleFilter,\r\n  searchTerm\r\n}) => {\r\n  const { t } = useTranslation()\r\n  const ability = useContext(AbilityContext)\r\n\r\n  // ** Converts table to CSV\r\n  function convertArrayOfObjectsToCSV(array) {\r\n    let result\r\n\r\n    const columnDelimiter = \",\"\r\n    const lineDelimiter = \"\\n\"\r\n    const keys = Object.keys(store.data[0])\r\n\r\n    result = \"\"\r\n    result += keys.join(columnDelimiter)\r\n    result += lineDelimiter\r\n\r\n    array.forEach((item) => {\r\n      let ctr = 0\r\n      keys.forEach((key) => {\r\n        if (ctr > 0) result += columnDelimiter\r\n\r\n        result += item[key]\r\n\r\n        ctr++\r\n      })\r\n      result += lineDelimiter\r\n    })\r\n\r\n    return result\r\n  }\r\n\r\n  // ** Downloads CSV\r\n  function downloadCSV(array) {\r\n    const link = document.createElement(\"a\")\r\n    let csv = convertArrayOfObjectsToCSV(array)\r\n    if (csv === null) return\r\n\r\n    const filename = \"export.csv\"\r\n\r\n    if (!csv.match(/^data:text\\/csv/i)) {\r\n      csv = `data:text/csv;charset=utf-8,${csv}`\r\n    }\r\n\r\n    link.setAttribute(\"href\", encodeURI(csv))\r\n    link.setAttribute(\"download\", filename)\r\n    link.click()\r\n  }\r\n\r\n  return (\r\n    <div className=\"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75\">\r\n      <Row>\r\n        <Col xl=\"6\" className=\"d-flex align-items-center p-0\">\r\n          <div className=\"d-flex align-items-center w-100\">\r\n            <label htmlFor=\"rows-per-page\">{t(\"Show\")}</label>\r\n            <Input\r\n              className=\"mx-50\"\r\n              type=\"select\"\r\n              id=\"rows-per-page\"\r\n              value={rowsPerPage}\r\n              onChange={handlePerPage}\r\n              style={{ width: \"5rem\" }}\r\n            >\r\n              <option value=\"10\">10</option>\r\n              <option value=\"25\">25</option>\r\n              <option value=\"50\">50</option>\r\n            </Input>\r\n            <label htmlFor=\"rows-per-page\">{t(\"Entries\")}</label>\r\n          </div>\r\n        </Col>\r\n        <Col\r\n          xl=\"6\"\r\n          className=\"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1\"\r\n        >\r\n          <div className=\"d-flex align-items-center mb-sm-0 mb-1 me-1\">\r\n            <label className=\"mb-0\" htmlFor=\"search-invoice\">\r\n              {t(\"Search\")}:\r\n            </label>\r\n            <Input\r\n              id=\"search-invoice\"\r\n              className=\"ms-50 w-100\"\r\n              type=\"text\"\r\n              value={searchTerm}\r\n              onChange={(e) => handleFilter(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"d-flex align-items-center table-header-actions\">\r\n            <UncontrolledDropdown className=\"me-1\">\r\n              <DropdownToggle color=\"secondary\" caret outline>\r\n                <Share className=\"font-small-4 me-50\" />\r\n                <span className=\"align-middle\">{t(\"Export\")}</span>\r\n              </DropdownToggle>\r\n              <DropdownMenu>\r\n                <DropdownItem className=\"w-100\">\r\n                  <Printer className=\"font-small-4 me-50\" />\r\n                  <span className=\"align-middle\">Print</span>\r\n                </DropdownItem>\r\n                <DropdownItem\r\n                  className=\"w-100\"\r\n                  onClick={() => downloadCSV(store.data)}\r\n                >\r\n                  <FileText className=\"font-small-4 me-50\" />\r\n                  <span className=\"align-middle\">CSV</span>\r\n                </DropdownItem>\r\n                <DropdownItem className=\"w-100\">\r\n                  <Grid className=\"font-small-4 me-50\" />\r\n                  <span className=\"align-middle\">Excel</span>\r\n                </DropdownItem>\r\n                <DropdownItem className=\"w-100\">\r\n                  <File className=\"font-small-4 me-50\" />\r\n                  <span className=\"align-middle\">PDF</span>\r\n                </DropdownItem>\r\n                <DropdownItem className=\"w-100\">\r\n                  <Copy className=\"font-small-4 me-50\" />\r\n                  <span className=\"align-middle\">Copy</span>\r\n                </DropdownItem>\r\n              </DropdownMenu>\r\n            </UncontrolledDropdown>\r\n\r\n            {ability.can(\r\n              \"post\",\r\n              sessionStorage.getItem(\"current_page_perm\")\r\n            ) ? (\r\n              <Button\r\n                className=\"add-new-user\"\r\n                color=\"primary\"\r\n                onClick={toggleSidebar}\r\n              >\r\n                {t(\"Add New\")} {t(store.crudTitle)}\r\n              </Button>\r\n            ) : null}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst UsersList = () => {\r\n  // ** Store Vars\r\n  const dispatch = useDispatch()\r\n  const store = useSelector((state) => state.users)\r\n  const storeUnit = useSelector((state) => state.units)\r\n  const storeRole = useSelector((state) => state.roles)\r\n\r\n  // ** Hooks\r\n  const { t } = useTranslation()\r\n  const ability = useContext(AbilityContext)\r\n  // ** Theme Colors\r\n  const { colors } = useContext(ThemeColors)\r\n\r\n  // ** States\r\n  const [sort_dir, setSortDir] = useState(\"desc\")\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [currentPage, setCurrentPage] = useState(store.params?.page ?? 1)\r\n  const [sort, setSort] = useState(\"id\")\r\n  const [rowsPerPage, setRowsPerPage] = useState(store.params?.length ?? 10)\r\n  const [sidebarOpen, setSidebarOpen] = useState(false)\r\n  const [currentRole, setCurrentRole] = useState({\r\n    value: \"\",\r\n    label: `${t(\"Select\")} ${t(\"Role\")}`\r\n  })\r\n  const [currentUnit, setCurrentUnit] = useState({\r\n    value: \"\",\r\n    label: `${t(\"Select\")} ${t(\"Unit\")}`\r\n  })\r\n  const [currentStatus, setCurrentStatus] = useState({\r\n    value: \"\",\r\n    label: `${t(\"Select\")} Status`,\r\n    number: 0\r\n  })\r\n  const [roleOptions, setRoleOptions] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [showModal, setShowModal] = useState(false)\r\n\r\n  // ** Function to toggle sidebar\r\n  const handleCloseModal = () => {\r\n    setSidebarOpen(!sidebarOpen)\r\n    revivalBack()\r\n  }\r\n\r\n  const toggleSidebar = () => {\r\n    setSidebarOpen(!sidebarOpen)\r\n    neutralizeBack(handleCloseModal)\r\n  }\r\n\r\n  // ** Get data on mount\r\n  useEffect(() => {\r\n    // console.log(store.params)\r\n    if (storeRole?.data.length === 0 && !storeRole.isLoading) {\r\n      dispatch(getDataRole()).then((x) => {\r\n        if (x.data) {\r\n          const roleOptionss = x.payload.data.map((item) => ({\r\n            value: item.id,\r\n            label: item.name\r\n          }))\r\n          roleOptionss.unshift({\r\n            value: \"\",\r\n            label: `${t(\"Select\")} ${t(\"Role\")}`\r\n          })\r\n          setRoleOptions(roleOptionss)\r\n        }\r\n      })\r\n    } else {\r\n      const roleOptionss = storeRole.data.map((item) => ({\r\n        value: item.id,\r\n        label: item.name\r\n      }))\r\n      roleOptionss.unshift({\r\n        value: \"\",\r\n        label: `${t(\"Select\")} ${t(\"Role\")}`\r\n      })\r\n      setRoleOptions(roleOptionss)\r\n    }\r\n\r\n    if (store.data.length === 0 && !store.isLoading) {\r\n      dispatch(\r\n        getData({\r\n          sort_dir,\r\n          sort,\r\n          search: searchTerm,\r\n          page: currentPage,\r\n          length: rowsPerPage,\r\n          filter_role: currentRole.value,\r\n          filter_status: currentStatus.value,\r\n          filter_unit: currentUnit.value\r\n        })\r\n      )\r\n    }\r\n  }, [\r\n    dispatch,\r\n    store.data.length,\r\n    storeUnit.data.length,\r\n    storeRole.data.length,\r\n    sort_dir,\r\n    sort,\r\n    currentPage\r\n  ])\r\n\r\n  const statusObj = {\r\n    pending: \"light-warning\",\r\n    active: \"light-success\",\r\n    inactive: \"light-secondary\"\r\n  }\r\n\r\n  // ** Renders Client Columns\r\n  const renderClient = (row) => {\r\n    if (row.avatar) {\r\n      return (\r\n        <Avatar className=\"me-1\" img={row.avatar} width=\"32\" height=\"32\" />\r\n      )\r\n    } else {\r\n      return (\r\n        <Avatar\r\n          initials\r\n          className=\"me-1\"\r\n          color={row.avatarColor || \"light-primary\"}\r\n          content={row.name || \"John Doe\"}\r\n        />\r\n      )\r\n    }\r\n  }\r\n\r\n  // ** Renders Role Columns\r\n  const renderRole = (row) => {\r\n    const roleObj = {\r\n      public: {\r\n        class: \"text-primary\",\r\n        icon: User\r\n      },\r\n      viewer: {\r\n        class: \"text-success\",\r\n        icon: Eye\r\n      },\r\n      editor: {\r\n        class: \"text-info\",\r\n        icon: Edit2\r\n      },\r\n      admin: {\r\n        class: \"text-warning\",\r\n        icon: Settings\r\n      },\r\n      super_user: {\r\n        class: \"text-danger\",\r\n        icon: Slack\r\n      }\r\n    }\r\n\r\n    const Icon = roleObj[row.role_name] ? roleObj[row.role_name].icon : Edit2\r\n\r\n    return (\r\n      <span className=\"text-truncate text-capitalize align-middle\">\r\n        <Icon\r\n          size={18}\r\n          className={`${\r\n            roleObj[row.role_name] ? roleObj[row.role_name].class : \"\"\r\n          } me-50`}\r\n        />\r\n        {row.role_name}\r\n      </span>\r\n    )\r\n  }\r\n\r\n  const columns = [\r\n    {\r\n      name: t(\"User\"),\r\n      sortable: true,\r\n      minWidth: \"400px\",\r\n      sortField: \"name\",\r\n      selector: (row) => row.name,\r\n      cell: (row) => (\r\n        <div className=\"d-flex justify-content-left align-items-center\">\r\n          {renderClient(row)}\r\n          <div className=\"d-flex flex-column\">\r\n            <Link\r\n              to={`/apps/user/view/${row.id}`}\r\n              className=\"user_name text-truncate text-body\"\r\n              // onClick={() => store.dispatch(getUser(row.id))}\r\n            >\r\n              <span className=\"fw-bolder\">{row.name}</span>\r\n            </Link>\r\n            <small className=\"text-truncate text-muted mb-0\">{row.email}</small>\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      name: t(\"Role\"),\r\n      sortable: true,\r\n      minWidth: \"200px\",\r\n      sortField: \"role_name\",\r\n      selector: (row) => row.role_name,\r\n      cell: (row) => renderRole(row)\r\n    },\r\n    // {\r\n    //   name: \"Unit\",\r\n    //   minWidth: \"138px\",\r\n    //   sortable: true,\r\n    //   sortField: \"unit\",\r\n    //   selector: (row) => row.currentPlan,\r\n    //   cell: (row) => <span className=\"text-capitalize\">{row.currentPlan}</span>\r\n    // },\r\n    {\r\n      name: t(\"Joined Date\"),\r\n      minWidth: \"230px\",\r\n      sortable: true,\r\n      sortField: \"joined_date\",\r\n      selector: (row) => row.billing,\r\n      cell: (row) => (\r\n        <span className=\"text-capitalize\">\r\n          {Moment(row.joined_date).format(\"DD MMM YYYY\")}\r\n        </span>\r\n      )\r\n    },\r\n    {\r\n      name: t(\"Status\"),\r\n      minWidth: \"120px\",\r\n      sortable: true,\r\n      sortField: \"status\",\r\n      selector: (row) => row.is_active,\r\n      cell: (row) => (\r\n        <Badge\r\n          className=\"text-capitalize\"\r\n          color={statusObj[row.is_active ? \"active\" : \"inactive\"]}\r\n          pill\r\n        >\r\n          {row.is_active ? t(\"active\") : t(\"inactive\")}\r\n        </Badge>\r\n      )\r\n    },\r\n    {\r\n      name: t(\"Actions\"),\r\n      width: \"130px\",\r\n      cell: (row) => (\r\n        <div className=\"column-action text-center\">\r\n          <UncontrolledDropdown>\r\n            <DropdownToggle tag=\"span\">\r\n              <MoreVertical size={14} className=\"cursor-pointer\" />\r\n            </DropdownToggle>\r\n            <DropdownMenu end>\r\n              <DropdownItem\r\n                tag={Link}\r\n                className=\"w-100\"\r\n                to={`/apps/user/view/${row.id}`}\r\n                onClick={() => store.dispatch(getUser(row.id))}\r\n              >\r\n                <FileText size={14} className=\"me-50\" />\r\n                <span className=\"align-middle\">{t(\"Details\")}</span>\r\n              </DropdownItem>\r\n\r\n              {ability.can(\r\n                \"update\",\r\n                sessionStorage.getItem(\"current_page_perm\")\r\n              ) && (\r\n                <DropdownItem\r\n                  tag=\"a\"\r\n                  href=\"/\"\r\n                  className=\"w-100\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault()\r\n                    handleEdit(row.id)\r\n                  }}\r\n                >\r\n                  <Archive size={14} className=\"me-50\" />\r\n                  <span className=\"align-middle\">{t(\"Edit\")}</span>\r\n                </DropdownItem>\r\n              )}\r\n\r\n              {ability.can(\r\n                \"delete\",\r\n                sessionStorage.getItem(\"current_page_perm\")\r\n              ) && (\r\n                <DropdownItem\r\n                  tag=\"a\"\r\n                  href=\"/\"\r\n                  className=\"w-100\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault()\r\n                    handleDelete(row.id)\r\n                  }}\r\n                >\r\n                  <Trash2 size={14} className=\"me-50\" />\r\n                  <span className=\"align-middle\">{t(\"Delete\")}</span>\r\n                </DropdownItem>\r\n              )}\r\n            </DropdownMenu>\r\n          </UncontrolledDropdown>\r\n        </div>\r\n      )\r\n    }\r\n  ]\r\n\r\n  const tableColumns = useMemo(\r\n    () =>\r\n      store.isLoading\r\n        ? columns.map((column) => ({\r\n            name: column.name,\r\n            sortable: false,\r\n            minWidth: column.minWidth,\r\n            width: column.width,\r\n            cell: (row) => (\r\n              <Skeleton\r\n                sx={{ bgcolor: colors.dark.light }}\r\n                animation=\"wave\"\r\n                className={column.name === \"Actions\" ? \"ms-2\" : \"\"}\r\n                width={column.name === \"Actions\" ? 10 : \"100%\"}\r\n                height={40}\r\n              />\r\n            )\r\n          }))\r\n        : columns.map((column) => ({\r\n            name: column.name,\r\n            sortable: column.sortable,\r\n            minWidth: column.minWidth,\r\n            width: column.width,\r\n            sortField: column.sortField,\r\n            selector: column.selector,\r\n            cell: column.cell\r\n          })),\r\n    [store.isLoading, columns]\r\n  )\r\n\r\n  const statusOptions = [\r\n    { value: \"\", label: `${t(\"Select\")} Status`, number: 0 },\r\n    { value: \"pending\", label: `${t(\"Pending\")}`, number: 1 },\r\n    { value: \"active\", label: `${t(\"Active\")}`, number: 2 },\r\n    { value: \"inactive\", label: `${t(\"Inactive\")}`, number: 3 }\r\n  ]\r\n\r\n  const handleChangeUnit = (value) => {\r\n    setCurrentUnit(value)\r\n    dispatch(\r\n      getData({\r\n        sort_dir,\r\n        sort,\r\n        search: searchTerm,\r\n        page: currentPage,\r\n        length: rowsPerPage,\r\n        filter_role: currentRole.value,\r\n        filter_unit: value.value,\r\n        filter_status: currentStatus.value\r\n      })\r\n    )\r\n  }\r\n\r\n  const Loader = () => {\r\n    return (\r\n      <Fragment>\r\n        <Spinner />\r\n        <CardText className=\"mb-0 mt-1\">{t(\"Please Wait\")}...</CardText>\r\n      </Fragment>\r\n    )\r\n  }\r\n\r\n  const handleDelete = (id) => {\r\n    return MySwal.fire({\r\n      title: `${t(\"Are you sure?\")}`,\r\n      text: `${t(\"You won't be able to revert\")} ${t(\"user\")}!`,\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: `${t(\"Yes, Delete User!\")}`,\r\n      cancelButtonText: `${t(\"Cancel\")}`,\r\n      customClass: {\r\n        confirmButton: \"btn btn-primary\",\r\n        cancelButton: \"btn btn-outline-danger ms-1\"\r\n      },\r\n      buttonsStyling: false\r\n    }).then(function (result) {\r\n      if (result.value) {\r\n        setLoading(true)\r\n        dispatch(deleteUser(id)).then((res) => {\r\n          // console.log(res)\r\n          if (res.meta.requestStatus === \"fulfilled\") {\r\n            setLoading(false)\r\n            toast.success(`${t(\"Successfully deleted Data\")}`, {\r\n              style: {\r\n                padding: \"16px\",\r\n                color: colors.success.main,\r\n                border: `1px solid ${colors.success.main}`\r\n              },\r\n              iconTheme: {\r\n                primary: colors.success.main\r\n              }\r\n            })\r\n          } else if (res.meta.requestStatus === \"rejected\") {\r\n            setLoading(false)\r\n            toast.error(res.payload.message, {\r\n              style: {\r\n                padding: \"16px\",\r\n                color: colors.danger.main,\r\n                border: `1px solid ${colors.danger.main}`\r\n              },\r\n              iconTheme: {\r\n                primary: colors.danger.main\r\n              }\r\n            })\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleEdit = (id) => {\r\n    setLoading(true)\r\n    if (\r\n      !store.selectedUser ||\r\n      (store.selectedUser?.id !== parseInt(id) && !store.isLoadingDetail)\r\n    ) {\r\n      dispatch(getUser(id)).then((res) => {\r\n        setShowModal(true)\r\n        setLoading(false)\r\n      })\r\n    } else {\r\n      setLoading(false)\r\n      setShowModal(true)\r\n    }\r\n  }\r\n\r\n  // ** Function in get data on page change\r\n  const handlePagination = (page) => {\r\n    dispatch(\r\n      getData({\r\n        sort_dir,\r\n        sort,\r\n        search: searchTerm,\r\n        length: rowsPerPage,\r\n        page: page.selected + 1,\r\n        filter_role: currentRole.value,\r\n        filter_status: currentStatus.value,\r\n        filter_unit: currentUnit.value\r\n      })\r\n    )\r\n    setCurrentPage(page.selected + 1)\r\n  }\r\n\r\n  // ** Function in get data on rows per page\r\n  const handlePerPage = (e) => {\r\n    const value = parseInt(e.currentTarget.value)\r\n    dispatch(\r\n      getData({\r\n        sort_dir,\r\n        sort,\r\n        search: searchTerm,\r\n        length: value,\r\n        page: currentPage,\r\n        filter_role: currentRole.value,\r\n        filter_unit: currentUnit.value,\r\n        filter_status: currentStatus.value\r\n      })\r\n    )\r\n    setRowsPerPage(value)\r\n  }\r\n\r\n  // ** Function in get data on search searchuery change\r\n  const handleFilter = (val) => {\r\n    setSearchTerm(val)\r\n    dispatch(\r\n      getData({\r\n        sort_dir,\r\n        search: val,\r\n        sort,\r\n        page: currentPage,\r\n        length: rowsPerPage,\r\n        filter_role: currentRole.value,\r\n        filter_status: currentStatus.value,\r\n        filter_unit: currentUnit.value\r\n      })\r\n    )\r\n  }\r\n\r\n  // ** Custom Pagination\r\n  const CustomPagination = () => {\r\n    const count = Number(Math.ceil(store.total / rowsPerPage))\r\n\r\n    return (\r\n      <ReactPaginate\r\n        previousLabel={\"\"}\r\n        nextLabel={\"\"}\r\n        pageCount={count || 1}\r\n        activeClassName=\"active\"\r\n        forcePage={currentPage !== 0 ? currentPage - 1 : 0}\r\n        onPageChange={(page) => handlePagination(page)}\r\n        pageClassName={\"page-item\"}\r\n        nextLinkClassName={\"page-link\"}\r\n        nextClassName={\"page-item next\"}\r\n        previousClassName={\"page-item prev\"}\r\n        previousLinkClassName={\"page-link\"}\r\n        pageLinkClassName={\"page-link\"}\r\n        containerClassName={\r\n          \"pagination react-paginate justify-content-end my-2 pe-1\"\r\n        }\r\n      />\r\n    )\r\n  }\r\n\r\n  const handleSort = (column, sortDirection) => {\r\n    setSortDir(sortDirection)\r\n    setSort(column.sortField)\r\n    dispatch(\r\n      getData({\r\n        sort_dir,\r\n        sort,\r\n        search: searchTerm,\r\n        page: currentPage,\r\n        length: rowsPerPage,\r\n        filter_role: currentRole.value,\r\n        filter_status: currentStatus.value,\r\n        filter_unit: currentUnit.value\r\n      })\r\n    )\r\n  }\r\n\r\n  // ** Table data to render\r\n  const dataToRender = () => {\r\n    const filters = {\r\n      filter_role: currentRole.value,\r\n      filter_unit: currentUnit.value,\r\n      filter_status: currentStatus.value,\r\n      search: searchTerm\r\n    }\r\n    // console.log(tableData)\r\n    // console.log(tableColumns)\r\n    const isFiltered = Object.keys(filters).some(function (k) {\r\n      return filters[k].length > 0\r\n    })\r\n    if (!store.isLoading) {\r\n      if (store.data.length > 0) {\r\n        return store.data\r\n      } else if (store.data.length === 0 && isFiltered) {\r\n        return []\r\n      } else {\r\n        // console.log(store.allData)\r\n        // return store.allData.slice(0, rowsPerPage)\r\n      }\r\n    } else {\r\n      return Array(10).fill({})\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <UILoader blocking={loading} loader={<Loader />}>\r\n        <Card>\r\n          {/* <CardHeader>\r\n            <CardTitle tag=\"h4\">{t(\"Filters\")}</CardTitle>\r\n          </CardHeader> */}\r\n          <CardBody>\r\n            <Row>\r\n              <Col>\r\n                <Label for=\"role-select\">{t(\"Role\")}</Label>\r\n                <Select\r\n                  isClearable={false}\r\n                  value={currentRole}\r\n                  options={roleOptions}\r\n                  className=\"react-select\"\r\n                  classNamePrefix=\"select\"\r\n                  theme={selectThemeColors}\r\n                  onChange={(data) => {\r\n                    setCurrentRole(data)\r\n                    dispatch(\r\n                      getData({\r\n                        sort_dir,\r\n                        sort,\r\n                        search: searchTerm,\r\n                        filter_role: data.value,\r\n                        page: currentPage,\r\n                        length: rowsPerPage,\r\n                        filter_status: currentStatus.value,\r\n                        filter_unit: currentUnit.value\r\n                      })\r\n                    )\r\n                  }}\r\n                />\r\n              </Col>\r\n              <Col>\r\n                <Label for=\"status-select\">Status</Label>\r\n                <Select\r\n                  theme={selectThemeColors}\r\n                  isClearable={false}\r\n                  className=\"react-select\"\r\n                  classNamePrefix=\"select\"\r\n                  options={statusOptions}\r\n                  value={currentStatus}\r\n                  onChange={(data) => {\r\n                    setCurrentStatus(data)\r\n                    dispatch(\r\n                      getData({\r\n                        sort_dir,\r\n                        sort,\r\n                        search: searchTerm,\r\n                        page: currentPage,\r\n                        filter_status: data.value,\r\n                        length: rowsPerPage,\r\n                        filter_role: currentRole.value,\r\n                        filter_unit: currentUnit.value\r\n                      })\r\n                    )\r\n                  }}\r\n                />\r\n              </Col>\r\n              <GlobalUnitDropdown\r\n                parentChange={handleChangeUnit}\r\n                colMode={true}\r\n              />\r\n            </Row>\r\n          </CardBody>\r\n        </Card>\r\n\r\n        <Card className=\"overflow-hidden\">\r\n          <div className=\"react-dataTable\">\r\n            <DataTable\r\n              noHeader\r\n              subHeader\r\n              sortServer\r\n              pagination\r\n              responsive\r\n              paginationServer\r\n              style={{ \"min-height\": \"400px\" }}\r\n              columns={tableColumns}\r\n              onSort={handleSort}\r\n              sortIcon={<ChevronDown />}\r\n              className=\"react-dataTable\"\r\n              paginationComponent={CustomPagination}\r\n              data={dataToRender()}\r\n              subHeaderComponent={\r\n                <CustomHeader\r\n                  store={store}\r\n                  searchTerm={searchTerm}\r\n                  rowsPerPage={rowsPerPage}\r\n                  handleFilter={handleFilter}\r\n                  handlePerPage={handlePerPage}\r\n                  toggleSidebar={toggleSidebar}\r\n                />\r\n              }\r\n            />\r\n          </div>\r\n        </Card>\r\n\r\n        <Sidebar open={sidebarOpen} toggleSidebar={toggleSidebar} />\r\n      </UILoader>\r\n\r\n      {store.selectedUser !== null && (\r\n        <ModalAddEdit\r\n          show={showModal}\r\n          setShow={setShowModal}\r\n          detailPage={false}\r\n          // idRow={store.selectedUser.id}\r\n        />\r\n      )}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default UsersList\r\n"],"sourceRoot":""}