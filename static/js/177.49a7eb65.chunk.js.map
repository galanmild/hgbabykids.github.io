{"version":3,"sources":["router/Router.js","utility/CssColorReplacer.js","App.js","views/apps/unit/store/my_unit.js"],"names":["Error","lazy","Maintenance","Login","NotAuthorized","Router","loading","layout","useLayout","allRoutes","getRoutes","getHomeRoute","user","getUserData","getHomeRouteForLoggedInUser","role_name","RedirectSite","window","location","href","routes","useRoutes","path","index","element","replace","to","BlankLayout","children","clientId","initBlank","store","getState","my_menu","dataMyMenu","length","hexToRgbVal","hex","r","parseInt","substring","g","b","darkenLightenColor","color","percent","asValue","test","rgb","bigint","hexToRgb","join","values","match","Math","floor","darkenLightenOpacity","replacePrimaryColor","primaryColorBe","console","log","elementSelect","document","documentElement","style","setProperty","rgbColorVal","styleElement","createElement","textContent","head","appendChild","axios","useJwt","ssoAxiosInterceptor","iconList","Object","keys","Icons","filter","key","map","icon","library","add","App","dispatch","useDispatch","effectRan","useRef","navigate","useNavigate","pingServers","a","useEffect","isUserLoggedIn","pathname","timer","handleVisibilityChange","datetime","Date","hidden","localStorage","setItem","parse","clearInterval","lastTimeStr","getItem","timestamp","lastTime","diffInSeconds","abs","getTime","getMyNotifications","unread_count","then","res","payload","count","count_unread","countFix","title","replaceAll","setInterval","addEventListener","removeEventListener","syncVersion","userData","isDeveloper","dateString","BUILD_DATE","year","slice","month","day","hour","minute","dateCurrentStr","dateCurrent","method","url","getLastVerData","getLastVer","data","dateLastString","date","dateLastWithoutSeconds","dateLast","dateLastFix","dateLastFixStr","toISOString","dateLastFixStrDisplay","dateLastFix2","isNeedUpdate","isNeedUpdates","setAppNeedUpdate","state","lastVer","currentVer","error","timeouts","current","navigator","onLine","getDomainInfo","meta","requestStatus","Swal","fire","text","confirmButtonText","customClass","confirmButton","result","isConfirmed","reload","logoResp","app","logo","favicon","unit","unit_app_attributes","getElementById","primaryColor","setting","timeout1","setTimeout","replacePrimaryColorLate","push","getAppMenu","getUnits","timeout2","timeout3","indexOf","search","enable_registration","forEach","timeout","clearTimeout","fallback","initSelectData","value","label","setUnitSelectedDropdown","createAsyncThunk","params","rejectWithValue","JSON","member_of","userMember","fetchState","some","e","children_count","get","response","total","getUnit","id","addUnit","post","units","getAllUnit","deleteUnit","delete","MyUnitsSlice","createSlice","name","initialState","crudTitle","statusSummary","isLoadingSummary","errorSummary","dataSummary","status","isLoading","dataDropdown","selectedUnit","selectedUnitMulti","reducers","setUnitSelected","action","resetAll","extraReducers","builder","addCase","fulfilled","pending","item","unshift","rejected","message"],"mappings":"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","file":"static/js/177.49a7eb65.chunk.js","sourcesContent":["// ** Router imports\r\nimport { lazy, useEffect, useState, Suspense } from \"react\"\r\n\r\n// ** Router imports\r\nimport { useRoutes, Navigate } from \"react-router-dom\"\r\n\r\n// ** Layouts\r\nimport BlankLayout from \"@layouts/BlankLayout\"\r\n\r\n// ** Hooks Imports\r\nimport { useLayout } from \"@hooks/useLayout\"\r\n// ** Utils\r\nimport { getUserData, getHomeRouteForLoggedInUser } from \"../utility/Utils\"\r\n\r\n// ** GetRoutes\r\nimport { getRoutes } from \"./routes\"\r\n\r\nimport { GoogleOAuthProvider } from \"@react-oauth/google\"\r\nimport Spinner from \"../@core/components/spinner/Fallback-spinner\"\r\n// ** Components\r\nconst Error = lazy(() => import(\"../views/pages/misc/Error\"))\r\nconst Maintenance = lazy(() => import(\"../views/pages/misc/Maintenance\"))\r\nconst Login = lazy(() => import(\"../views/pages/authentication/Login\"))\r\nconst NotAuthorized = lazy(() => import(\"../views/pages/misc/NotAuthorized\"))\r\n\r\nconst PublicPage = lazy(() => import(\"@src/shared/public_pages\"))\r\n\r\nimport { store } from \"../redux/store\"\r\n\r\nconst Router = ({ loading }) => {\r\n  // ** Hooks\r\n  const { layout } = useLayout()\r\n  const allRoutes = getRoutes(layout)\r\n\r\n  const getHomeRoute = () => {\r\n    const user = getUserData()\r\n    if (user) {\r\n      return getHomeRouteForLoggedInUser(user.role_name)\r\n    } else {\r\n      return \"/login\"\r\n    }\r\n  }\r\n\r\n  const RedirectSite = () => {\r\n    window.location.href = \"/website/naxos/saba.html\"\r\n    return <></>\r\n  }\r\n\r\n  const routes = useRoutes([\r\n    {\r\n      path: \"/\",\r\n      index: true,\r\n      element: <Navigate replace to={getHomeRoute()} />\r\n    },\r\n    {\r\n      path: \"/login\",\r\n      element: <BlankLayout />,\r\n      children: [\r\n        {\r\n          path: \"/login\",\r\n          element: (\r\n            <GoogleOAuthProvider clientId=\"1096092734184-n0tcl5abejf0s0r2t4fmoi3qf4fhen76.apps.googleusercontent.com\">\r\n              <Login />{\" \"}\r\n            </GoogleOAuthProvider>\r\n          )\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      path: \"/error\",\r\n      element: <BlankLayout />,\r\n      children: [\r\n        { path: \"/error\", element: <Error /> },\r\n        { path: \"/error/403\", element: <NotAuthorized /> }\r\n      ]\r\n    },\r\n    {\r\n      path: \"/public\",\r\n      element: <RedirectSite />\r\n    },\r\n    // {\r\n    //   path: \"/public/:pageId\",\r\n    //   element: <PublicPage />,\r\n    //   meta: {\r\n    //     publicRoute: true,\r\n    //     layout: \"blank\"\r\n    //   }\r\n    // },\r\n    // {\r\n    //   path: \"/public/:moduleId/:pageId\",\r\n    //   element: <PublicPage />,\r\n    //   meta: {\r\n    //     publicRoute: true,\r\n    //     layout: \"blank\"\r\n    //   }\r\n    // },\r\n    {\r\n      path: \"*\",\r\n      element: <BlankLayout />,\r\n      // children: [{ path: \"*\", element: <Error /> }]\r\n      children: [{ path: \"*\", element: <Spinner /> }]\r\n    },\r\n    ...allRoutes\r\n  ])\r\n\r\n  const initBlank = useRoutes([\r\n    {\r\n      path: \"/\",\r\n      index: true,\r\n      element: <Navigate replace to={getHomeRoute()} />\r\n    },\r\n    {\r\n      path: \"/login\",\r\n      element: <BlankLayout />,\r\n      children: [\r\n        {\r\n          path: \"/login\",\r\n          element: (\r\n            <GoogleOAuthProvider clientId=\"1096092734184-n0tcl5abejf0s0r2t4fmoi3qf4fhen76.apps.googleusercontent.com\">\r\n              <Login />{\" \"}\r\n            </GoogleOAuthProvider>\r\n          )\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      path: \"/auth/not-auth\",\r\n      element: <BlankLayout />,\r\n      children: [{ path: \"/auth/not-auth\", element: <NotAuthorized /> }]\r\n    },\r\n    {\r\n      path: \"/error\",\r\n      element: <BlankLayout />,\r\n      children: [\r\n        { path: \"/error\", element: <Maintenance /> },\r\n        { path: \"/error/403\", element: <NotAuthorized /> }\r\n      ]\r\n    },\r\n    {\r\n      path: \"/public\",\r\n      element: <RedirectSite />\r\n    },\r\n    // {\r\n    //   path: \"/public\",\r\n    //   element: <PublicPage />,\r\n    //   meta: {\r\n    //     publicRoute: true,\r\n    //     layout: \"blank\"\r\n    //   }\r\n    // },\r\n    // {\r\n    //   path: \"/public/:pageId\",\r\n    //   element: <PublicPage />,\r\n    //   meta: {\r\n    //     publicRoute: true,\r\n    //     layout: \"blank\"\r\n    //   }\r\n    // },\r\n    // {\r\n    //   path: \"/public/:moduleId/:pageId\",\r\n    //   element: <PublicPage />,\r\n    //   meta: {\r\n    //     publicRoute: true,\r\n    //     layout: \"blank\"\r\n    //   }\r\n    // },\r\n    {\r\n      path: \"*\",\r\n      element: <BlankLayout />,\r\n      // children: [{ path: \"*\", element: <Error /> }]\r\n      children: [{ path: \"*\", element: <Spinner /> }]\r\n    },\r\n    ...allRoutes\r\n  ])\r\n\r\n  if (store.getState()?.my_menu?.dataMyMenu?.length > 0) {\r\n    return routes\r\n  } else {\r\n    return initBlank\r\n  }\r\n}\r\n\r\nexport default Router\r\n","function hexToRgb(hex) {\r\n  // Hilangkan tanda '#' jika ada\r\n  hex = hex.replace(\"#\", \"\")\r\n\r\n  // Ubah nilai warna dari format hex menjadi format RGB\r\n  const r = parseInt(hex.substring(0, 2), 16)\r\n  const g = parseInt(hex.substring(2, 4), 16)\r\n  const b = parseInt(hex.substring(4, 6), 16)\r\n\r\n  // Kembalikan nilai warna dalam format RGB\r\n  return `rgb(${r}, ${g}, ${b})`\r\n}\r\n\r\nfunction hexToRgbVal(hex) {\r\n  // Hilangkan tanda '#' jika ada\r\n  hex = hex.replace(\"#\", \"\")\r\n\r\n  // Ubah nilai warna dari format hex menjadi format RGB\r\n  const r = parseInt(hex.substring(0, 2), 16)\r\n  const g = parseInt(hex.substring(2, 4), 16)\r\n  const b = parseInt(hex.substring(4, 6), 16)\r\n\r\n  // Kembalikan nilai warna dalam format RGB\r\n  return `${r}, ${g}, ${b}`\r\n}\r\n\r\nfunction darkenLightenColor(color, percent, asValue) {\r\n  // Memeriksa apakah nilai yang diberikan adalah format hex\r\n  let isHex = /^#([0-9a-f]{3}){1,2}$/i.test(color)\r\n\r\n  // Konversi nilai hex ke dalam bentuk RGB\r\n  if (isHex) {\r\n    color = color.substring(1) // Hilangkan tanda '#'\r\n    const hexToRgb = (hex) => {\r\n      const bigint = parseInt(hex, 16)\r\n      const r = (bigint >> 16) & 255\r\n      const g = (bigint >> 8) & 255\r\n      const b = bigint & 255\r\n      return [r, g, b]\r\n    }\r\n    const rgb = hexToRgb(color)\r\n    color = `rgb(${rgb.join(\", \")})`\r\n  }\r\n\r\n  // Memisahkan nilai RGB\r\n  const values = color.match(/\\d+/g)\r\n  let r = parseInt(values[0])\r\n  let g = parseInt(values[1])\r\n  let b = parseInt(values[2])\r\n\r\n  // Menerapkan penurunan kecerahan (darken) atau peningkatan kecerahan (lighten)\r\n  r = Math.floor((r * (100 - percent)) / 100)\r\n  g = Math.floor((g * (100 - percent)) / 100)\r\n  b = Math.floor((b * (100 - percent)) / 100)\r\n\r\n  if (asValue) {\r\n    return `${r}, ${g}, ${b}`\r\n  }\r\n  return `rgb(${r}, ${g}, ${b})`\r\n}\r\n\r\nconst darkenLightenOpacity = {\r\n  \"lighten-4\": 20,\r\n  \"lighten-3\": 15,\r\n  \"lighten-2\": 10,\r\n  \"lighten-1\": 5,\r\n  \"darken-1\": 5,\r\n  \"darken-2\": 10,\r\n  \"darken-3\": 15,\r\n  \"darken-4\": 20\r\n}\r\n\r\nexport const replacePrimaryColor = (primaryColorBe) => {\r\n  console.log(\"replace root style begin...\")\r\n  const rootSelect = document.documentElement\r\n  const elementSelect = rootSelect.style\r\n  elementSelect.setProperty(\"--bs-primary-rgb\", `${primaryColorBe}`)\r\n  elementSelect.setProperty(\"--primary-color\", `${primaryColorBe}`)\r\n  console.log(\"replace root style end...\")\r\n\r\n  console.log(\"replace head style begin...\")\r\n\r\n  const rgbColor = hexToRgb(primaryColorBe)\r\n  const rgbColorVal = hexToRgbVal(primaryColorBe)\r\n  // const styleElementNew = document.createElement(\"style\")\r\n\r\n  // styleElementNew.appendChild(\r\n  //   document.createTextNode(`:root { --primary-color: ${primaryColorBe}; }`)\r\n  // )\r\n  // styleElementNew.appendChild(\r\n  //   document.createTextNode(`--primary-color: ${primaryColorBe};`)\r\n  // )\r\n  // document.head.appendChild(styleElementNew)\r\n\r\n  // const rgbColorReplacer = rgbColor?.replace(\")\", \"\")\r\n  // const rgbaColorReplacer = rgbColor?.replace(\")\", \"\")?.replace(\"rgb\", \"rgba\")\r\n\r\n  // const styleElements = document.head.querySelectorAll(\"style\")\r\n  // styleElements.forEach((styleElement) => {\r\n  //   styleElement.textContent = styleElement.textContent\r\n  //     .replace(\r\n  //       /:root\\s*{\\s*--primary-color:\\s*#4186e0;\\s*}/g,\r\n  //       `:root {--primary-color: ${primaryColorBe} !important;}`\r\n  //     )\r\n  //     .replace(/#4186e0/g, `${primaryColorBe}`)\r\n  //     .replace(/#3772be/g, `${primaryColorBe}`)\r\n  //     .replace(/#3e7fd5/g, `${primaryColorBe}`)\r\n  //     .replace(/#346bb3/g, `${primaryColorBe}`)\r\n  //     .replace(/rgb\\(65,\\s*134,\\s*224/g, `${rgbColorReplacer}`)\r\n  //     .replace(/rgba\\(65,\\s*134,\\s*224/g, `${rgbaColorReplacer}`)\r\n  // })\r\n\r\n  const styleElement = document.createElement(\"style\")\r\n  styleElement.textContent = `\r\n  :root { \r\n    --primary-color: ${primaryColorBe} !important;\r\n    --bs-primary-rgb: ${primaryColorBe} !important;\r\n  }\r\n\r\n  /* BTN-PRIMARY */\r\n  .btn-primary {\r\n    border-color: ${primaryColorBe} !important;\r\n    background-color: ${primaryColorBe} !important;\r\n  }\r\n  .btn-primary:focus,\r\n  .btn-primary:active,\r\n  .btn-primary.active {\r\n    background-color: ${darkenLightenColor(\r\n      rgbColorVal,\r\n      darkenLightenOpacity[\"darken-1\"]\r\n    )} !important;\r\n  }\r\n  .btn-primary:hover:not(.disabled):not(:disabled) {\r\n    box-shadow: 0 8px 25px -8px rgba(${rgbColorVal}, 1);\r\n  }   \r\n\r\n  /* BTN-GRADIENT */\r\n  .btn-gradient-primary {\r\n    background-image: linear-gradient(47deg, ${primaryColorBe}, ${darkenLightenColor(\r\n    rgbColorVal,\r\n    darkenLightenOpacity[\"darken-2\"]\r\n  )});\r\n  }\r\n  .btn-gradient-primary:focus,.btn-gradient-primary:active,.btn-gradient-primary.active {\r\n    background-image: linear-gradient(47deg, ${darkenLightenColor(\r\n      rgbColorVal,\r\n      darkenLightenOpacity[\"darken-2\"]\r\n    )}, ${primaryColorBe}) !important;\r\n  }\r\n  .dark-layout.btn-gradient-primary {\r\n    background-image: linear-gradient(47deg, ${darkenLightenColor(\r\n      rgbColorVal,\r\n      darkenLightenOpacity[\"darken-2\"]\r\n    )}, ${primaryColorBe});\r\n  }\r\n\r\n  /* BTN-OUTLINE */\r\n  .btn-outline-primary {\r\n    border: 1px solid ${primaryColorBe} !important;\r\n    color: ${primaryColorBe};\r\n  }\r\n  .btn-outline-primary:hover:not(.disabled):not(:disabled) {\r\n    background-color: rgba(${rgbColorVal}, 0.04) !important;\r\n    color: ${primaryColorBe};\r\n  }\r\n  .btn-outline-primary:not(:disabled):not(.disabled):focus {\r\n    background-color: rgba(${rgbColorVal}, 0.2) !important;\r\n    color: ${primaryColorBe};\r\n  }\r\n  .btn-outline-primary:not(:disabled):not(.disabled):active, .btn-outline-primary:not(:disabled):not(.disabled).active, .btn-outline-primary:not(:disabled):not(.disabled):focus {\r\n      background-color: rgba(${rgbColorVal}, 0.2) !important;\r\n      color: ${primaryColorBe};\r\n  }\r\n\r\n  /* BTN-FLAT */\r\n  .btn-flat-primary {\r\n    color: ${primaryColorBe};\r\n  }\r\n  .btn-flat-primary:hover {\r\n    color: ${primaryColorBe};\r\n  }\r\n  .btn-flat-primary:hover:not(.disabled):not(:disabled) {\r\n    background-color: rgba(${rgbColorVal}, 0.12);\r\n  }\r\n  .btn-flat-primary:active,\r\n  .btn-flat-primary.active,\r\n  .btn-flat-primary:focus {\r\n    background-color: rgba(${rgbColorVal}, 0.2);\r\n    color: ${primaryColorBe};\r\n  }\r\n\r\n  /* BTN-RELIEF */\r\n  .btn-relief-primary {\r\n    background-color: ${primaryColorBe};\r\n  }\r\n  \r\n  .btn-relief-primary:active,\r\n  .btn-relief-primary.active,\r\n  .btn-relief-primary:focus {\r\n    background-color: ${darkenLightenColor(\r\n      rgbColorVal,\r\n      darkenLightenOpacity[\"darken-1\"]\r\n    )} !important;\r\n  }\r\n\r\n  .btn-relief-primary:hover:not(.disabled):not(:disabled) {\r\n    background-color: ${primaryColorBe};\r\n  }\r\n\r\n  /* PAGINATION */\r\n  .page-item.active .page-link {\r\n    background-color: ${primaryColorBe};\r\n}\r\n\r\n  /* MENU */\r\n  .vertical-layout .main-menu .navigation a.active {\r\n      background: linear-gradient(118deg, ${primaryColorBe}, rgba(${rgbColorVal}, 0.7));\r\n      box-shadow: 0 0 10px 1px rgba(${rgbColorVal}, 0.7);\r\n  }\r\n  .main-menu.menu-dark .navigation > li ul .active {\r\n    background: linear-gradient(118deg, ${primaryColorBe}, rgba(${rgbColorVal}, 0.7));\r\n    box-shadow: 0 0 10px 1px rgba(${rgbColorVal}, 0.7);\r\n  }\r\n\r\n  /* COMMON */\r\n  a {\r\n    color: ${primaryColorBe};\r\n  }\r\n\r\n  .nav-link {\r\n    color: ${primaryColorBe};\r\n  }\r\n\r\n  .text-primary {\r\n    color: rgba(${rgbColorVal}, 1) !important;\r\n  }\r\n\r\n  .bg-primary {\r\n    background-color: rgba(${rgbColorVal}, 1) !important;\r\n  }\r\n\r\n  .bg-light-primary:not(.avatar) {\r\n    background: rgba(${darkenLightenColor(\r\n      primaryColorBe,\r\n      darkenLightenOpacity[\"darken-4\"],\r\n      true\r\n    )}, 0.12) !important;\r\n    color: ${primaryColorBe} !important;\r\n}\r\n  \r\n  .customizer .customizer-toggle {\r\n    background: ${primaryColorBe};\r\n  }\r\n\r\n  .dropdown.show.dropdown-item.active:hover {\r\n    color: ${primaryColorBe};\r\n  }\r\n\r\n  .dropdown-item.active, .dropdown-item:active {\r\n    background-color: ${primaryColorBe};\r\n}\r\n\r\n  .nav-link:after {\r\n    background: linear-gradient(30deg, rgba(${primaryColorBe}, 1), rgba(${primaryColorBe}, 0.5)) !important;\r\n  }\r\n  .nav-link.active {\r\n    color: ${primaryColorBe};\r\n  }\r\n  .avatar.bg-light-primary {\r\n    color: ${primaryColorBe} !important;\r\n  }\r\n  .form-check-input:checked {\r\n    background-color: ${primaryColorBe};\r\n    border-color: ${primaryColorBe};\r\n  }\r\n  .alert-primary {\r\n    background: rgba(${rgbColorVal}, 0.12) !important;\r\n    color: ${primaryColorBe} !important;\r\n  }\r\n  .nav-tabs .nav-link.active {\r\n    position: relative;\r\n    color: ${primaryColorBe};\r\n  }\r\n  .nav-tabs .nav-link:after {\r\n    background: linear-gradient(30deg,${primaryColorBe},rgba(${rgbColorVal},.5))!important;\r\n  }\r\n  .dark-layout .nav-tabs .nav-item .nav-link.active, .dark-layout .nav-pills .nav-item .nav-link.active, .dark-layout .nav-tabs.nav-justified .nav-item .nav-link.active {\r\n    color: ${primaryColorBe};\r\n  }\r\n\r\n  .fc .fc-toolbar .fc-button-group .fc-button-primary:not(.fc-prev-button):not(.fc-next-button) {\r\n    border-color: ${primaryColorBe} !important;\r\n    color: ${primaryColorBe} !important;\r\n  }\r\n  .fc .fc-toolbar .fc-button-group .fc-button-primary:not(.fc-prev-button):not(.fc-next-button).fc-button-active, .fc .fc-toolbar .fc-button-group .fc-button-primary:not(.fc-prev-button):not(.fc-next-button):hover {\r\n    background-color: rgba(${rgbColorVal}, 0.2) !important;\r\n    border-color: ${primaryColorBe} !important;\r\n    color: ${primaryColorBe} !important;\r\n  }\r\n\r\n  .select__menu .select__menu-list .select__option--is-focused,\r\n  .react-select__menu .react-select__menu-list .react-select__option--is-focused {\r\n    background-color: rgba(${rgbColorVal}, 0.12) !important;\r\n    color: ${primaryColorBe} !important;\r\n  }\r\n\r\n  .select__menu .select__menu-list .select__option--is-selected,\r\n  .react-select__menu .react-select__menu-list .react-select__option--is-selected {\r\n    background-color: ${primaryColorBe} !important;\r\n    color: #fff !important;\r\n  }\r\n\r\n  .select__option--is-focused, .react-select__option--is-focused {\r\n    background-color: rgba(${rgbColorVal}, 0.12) !important;\r\n    color: ${primaryColorBe} !important;\r\n  }\r\n\r\n  .select__option--is-selected, .react-select__option--is-selected {\r\n    background-color: ${primaryColorBe} !important;\r\n    color: #fff !important;\r\n  }\r\n\r\n  .select__control--is-focused,.react-select__control--is-focused {\r\n    border-color:${primaryColorBe} !important;\r\n  }\r\n\r\n  .form-check-primary .form-check-input {\r\n    &:checked {\r\n      border-color: ${primaryColorBe} !important;\r\n      background-color: ${primaryColorBe} !important;\r\n    }\r\n    &:not(:disabled) {\r\n      &:checked,\r\n      &:focus {\r\n        border-color: ${primaryColorBe} !important;\r\n      }\r\n    }\r\n  }\r\n`\r\n  // const titleElement = document.querySelector(\"title\")\r\n  // document.head.insertBefore(styleElement, titleElement)\r\n  document.head.appendChild(styleElement)\r\n\r\n  console.log(\"replace head style end...\")\r\n}\r\n\r\nexport const replacePrimaryColorLate = (primaryColorBe) => {\r\n  console.log(\"replace head style late begin...\")\r\n  const rgbColorVal = hexToRgbVal(primaryColorBe)\r\n  const styleElement = document.createElement(\"style\")\r\n  styleElement.textContent = `\r\n      .fc .fc-toolbar .fc-button-group .fc-button-primary:not(.fc-prev-button):not(.fc-next-button).fc-button-active, .fc .fc-toolbar .fc-button-group .fc-button-primary:not(.fc-prev-button):not(.fc-next-button):hover {\r\n        background-color: rgba(${rgbColorVal}, 0.2) !important;\r\n        border-color: ${primaryColorBe} !important;\r\n        color: ${primaryColorBe} !important;\r\n      }\r\n    `\r\n  document.head.appendChild(styleElement)\r\n\r\n  console.log(\"replace head style late end...\")\r\n}\r\n","import React, { useEffect, Suspense, useRef, useState } from \"react\"\r\nimport \"@nosferatu500/react-sortable-tree/style.css\"\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport Router from \"./router/Router\"\r\nimport Spinner from \"./@core/components/spinner/Fallback-spinner\"\r\nimport { store } from \"./redux/store\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { getDomainInfo } from \"@store/domainInfo\"\r\nimport { getMyNotifications } from \"@store/notifications\"\r\nimport { getUserData, isUserLoggedIn } from \"@utils\"\r\nimport {\r\n  replacePrimaryColor,\r\n  replacePrimaryColorLate\r\n} from \"@src/utility/CssColorReplacer\"\r\nimport { getAppMenu } from \"@src/views/apps/menu/store/my_menu\"\r\nimport { getUnits } from \"@src/views/apps/unit/store/my_unit\"\r\nimport Swal from \"sweetalert2\"\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\"\r\nimport * as Icons from \"@fortawesome/free-solid-svg-icons\"\r\nimport { BUILD_DATE } from \"@src/buildDate.js\"\r\nimport useJwt from \"@src/auth/jwt/useJwt\"\r\nimport { setAppNeedUpdate } from \"./redux/developer\"\r\nconst axios = useJwt.ssoAxiosInterceptor\r\n\r\nconst iconList = Object.keys(Icons)\r\n  .filter((key) => key !== \"fas\" && key !== \"prefix\")\r\n  .map((icon) => Icons[icon])\r\n\r\nlibrary.add(...iconList)\r\n\r\nconst App = () => {\r\n  const dispatch = useDispatch()\r\n  const effectRan = useRef(false)\r\n  const navigate = useNavigate()\r\n\r\n  function getFaviconEl() {\r\n    return document.getElementById(\"favicon\")\r\n  }\r\n\r\n  async function pingServers() {\r\n    // let serversList = JSON.parse(sessionStorage.getItem(\"serversList\") ?? \"[]\")\r\n    // await Promise.all(\r\n    //   serversList?.map(async (url) => {\r\n    //     try {\r\n    //       const response = await fetch(url, { method: \"HEAD\" })\r\n    //       // console.log(lo)\r\n    //       return response.ok\r\n    //     } catch (error) {\r\n    //       console.error(error)\r\n    //       // return false\r\n    //     }\r\n    //   })\r\n    // )\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (\r\n      isUserLoggedIn() !== null &&\r\n      window.location.pathname !== \"/error\" &&\r\n      window.location.pathname !== \"/public\"\r\n    ) {\r\n      const timeToFetch = 15 //in seconds\r\n      let timer = null\r\n\r\n      const handleVisibilityChange = () => {\r\n        const datetime = new Date()\r\n        if (document.hidden) {\r\n          localStorage.setItem(\"inactive\", Date.parse(datetime) / 1000)\r\n          clearInterval(timer)\r\n        } else {\r\n          const lastTimeStr = localStorage.getItem(\"inactive\")\r\n          const timestamp = parseInt(lastTimeStr, 10)\r\n          const lastTime = new Date(timestamp * 1000)\r\n          const diffInSeconds =\r\n            Math.abs(datetime.getTime() - lastTime.getTime()) / 1000\r\n          if (diffInSeconds >= timeToFetch) {\r\n            console.log(\r\n              `Fetching data after ${diffInSeconds} seconds of inactivity`\r\n            )\r\n            store\r\n              .dispatch(getMyNotifications({ unread_count: 1 }))\r\n              .then((res) => {\r\n                if (res?.payload) {\r\n                  const count = res?.payload[0]?.count_unread ?? 0\r\n                  if (count) {\r\n                    const countFix =\r\n                      count > 0 && count <= 20 ? `(${count})` : \"(20+)\"\r\n                    document.title = `${countFix} ${document.title.replaceAll(\r\n                      countFix,\r\n                      \"\"\r\n                    )}`\r\n                    pingServers()\r\n                  }\r\n                }\r\n              })\r\n          } else {\r\n            timer = setInterval(() => {\r\n              const diffInSeconds =\r\n                Math.abs(datetime.getTime() - lastTime.getTime()) / 1000\r\n              if (diffInSeconds >= timeToFetch) {\r\n                console.log(\r\n                  `Fetching data after ${diffInSeconds} seconds of inactivity`\r\n                )\r\n                store\r\n                  .dispatch(getMyNotifications({ unread_count: 1 }))\r\n                  .then((res) => {\r\n                    if (res?.payload) {\r\n                      const count = res?.payload[0]?.count_unread ?? 0\r\n                      if (count) {\r\n                        const countFix =\r\n                          count > 0 && count <= 20 ? `(${count})` : \"(20+)\"\r\n                        document.title = `${countFix} ${document.title.replaceAll(\r\n                          countFix,\r\n                          \"\"\r\n                        )}`\r\n                      }\r\n                      pingServers()\r\n                    }\r\n                  })\r\n                clearInterval(timer)\r\n              }\r\n            }, 1000)\r\n          }\r\n        }\r\n      }\r\n\r\n      document.addEventListener(\"visibilitychange\", handleVisibilityChange)\r\n\r\n      return () => {\r\n        clearInterval(timer)\r\n        document.removeEventListener(\"visibilitychange\", handleVisibilityChange)\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  const syncVersion = async () => {\r\n    const userData = getUserData()\r\n    // console.log(userData)\r\n    if (userData?.isDeveloper) {\r\n      try {\r\n        // console.log(BUILD_DATE)\r\n        const dateString = BUILD_DATE\r\n        const year = dateString.slice(0, 4)\r\n        const month = dateString.slice(4, 6)\r\n        const day = dateString.slice(6, 8)\r\n        const hour = dateString.slice(9, 11)\r\n        const minute = dateString.slice(11, 13)\r\n        const dateCurrentStr = `${year}-${month}-${day}T${hour}:${minute}:00.000Z`\r\n\r\n        const dateCurrent = new Date(dateCurrentStr)\r\n        // console.log(dateCurrent)\r\n\r\n        const getLastVerData = await axios({\r\n          method: \"post\",\r\n          url: `/fe_ver`\r\n        })\r\n        // console.log(getLastVerData)\r\n        const getLastVer = getLastVerData?.data?.data\r\n        if (getLastVer) {\r\n          const dateLastString = getLastVer?.date\r\n          if (dateLastString) {\r\n            const dateLastWithoutSeconds = dateLastString?.replace(\r\n              /:\\d{2}Z$/,\r\n              \":00Z\"\r\n            )\r\n            const dateLast = new Date(dateLastWithoutSeconds)\r\n            // eslint-disable-next-line no-mixed-operators\r\n            const dateLastFix = new Date(\r\n              // eslint-disable-next-line no-mixed-operators\r\n              dateLast.getTime() + 7 * 60 * 60 * 1000\r\n            )\r\n            // console.log(\r\n            //   dateLast,\r\n            //   dateLastFix,\r\n            //   dateLastString,\r\n            //   dateLastWithoutSeconds\r\n            // )\r\n            const dateLastFixStr = dateLastFix.toISOString()\r\n            const dateLastFixStrDisplay = `${dateLastFixStr\r\n              .slice(0, 10)\r\n              .replace(/-/g, \"\")}-${dateLastFixStr\r\n              .slice(11, 16)\r\n              .replace(\":\", \"\")}`\r\n            // console.log(dateLastFixStrDisplay)\r\n            const dateLastFix2 = new Date(dateLastFixStr)\r\n            // eslint-disable-next-line no-mixed-operators\r\n            // console.log(dateCurrentStr, dateLastFixStr, dateLastWithoutSeconds)\r\n            // console.log(dateCurrent, dateLastFix2)\r\n            // const isNeedUpdate = dateCurrent < dateLastFix2\r\n            const isNeedUpdates = () => {\r\n              const diff = (dateLastFix2 - dateCurrent) / 1000 / 60\r\n              // console.log(diff)\r\n              return diff > 10\r\n            }\r\n            const isNeedUpdate = isNeedUpdates()\r\n            // console.log(isNeedUpdate)\r\n            if (isNeedUpdate) {\r\n              dispatch(\r\n                setAppNeedUpdate({\r\n                  state: isNeedUpdate,\r\n                  lastVer: dateLastFixStrDisplay,\r\n                  currentVer: dateString\r\n                })\r\n              )\r\n              // .then((response) =>\r\n              //   console.log(response)\r\n              // )\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    }\r\n  }\r\n\r\n  const timeouts = useRef([])\r\n\r\n  useEffect(() => {\r\n    if (!effectRan.current) {\r\n      if (navigator.onLine) {\r\n        if (window.location.pathname !== \"/public\") {\r\n          dispatch(getDomainInfo({})).then((res) => {\r\n            if (res?.meta?.requestStatus === \"rejected\") {\r\n              // console.error(res)\r\n              console.error(\"Not Registered\")\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Connection Failed!\",\r\n                text: \"There is a problem connecting to the server or this app is not yet registered with Saba Official.\",\r\n                confirmButtonText: \"Refresh\",\r\n                customClass: {\r\n                  confirmButton: \"btn btn-primary\"\r\n                }\r\n              }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                  location.reload()\r\n                }\r\n              })\r\n            } else {\r\n              const logoResp = res.payload?.app?.logo\r\n              if (\r\n                logoResp?.favicon ||\r\n                res.payload?.unit?.unit_app_attributes?.favicon\r\n              ) {\r\n                const favicon = getFaviconEl()\r\n                favicon.href =\r\n                  res.payload?.unit?.unit_app_attributes?.favicon ??\r\n                  logoResp.favicon\r\n              }\r\n\r\n              const primaryColorBe =\r\n                res.payload?.unit?.unit_app_attributes?.layout?.primaryColor ??\r\n                res.payload?.app?.setting?.primaryColor\r\n              if (primaryColorBe) {\r\n                replacePrimaryColor(primaryColorBe)\r\n                const timeout1 = setTimeout(() => {\r\n                  replacePrimaryColorLate(primaryColorBe)\r\n                }, 500)\r\n                timeouts.current.push(timeout1)\r\n                // setTimeout(() => {\r\n                //   replacePrimaryColorLate(primaryColorBe)\r\n                // }, 500)\r\n              }\r\n              if (window.location.pathname !== \"/error\") {\r\n                if (isUserLoggedIn() !== null) {\r\n                  store.dispatch(getAppMenu({})).then((res) => {\r\n                    if (res?.meta?.requestStatus !== \"rejected\") {\r\n                      store.dispatch(getUnits({}))\r\n                      const timeout2 = setTimeout(() => {\r\n                        store\r\n                          .dispatch(getMyNotifications({ unread_count: 1 }))\r\n                          .then((res) => {\r\n                            if (res?.payload) {\r\n                              const count = res?.payload[0]?.count_unread ?? 0\r\n                              if (count) {\r\n                                const countFix =\r\n                                  count > 0 && count <= 20\r\n                                    ? `(${count})`\r\n                                    : \"(20+)\"\r\n                                document.title = `${countFix} ${document.title.replaceAll(\r\n                                  countFix,\r\n                                  \"\"\r\n                                )}`\r\n                              }\r\n                            }\r\n                          })\r\n                      }, 2000)\r\n                      timeouts.current.push(timeout2)\r\n                      const timeout3 = setTimeout(() => {\r\n                        syncVersion()\r\n                      }, 45000)\r\n                      timeouts.current.push(timeout3)\r\n                      // setTimeout(() => {\r\n                      //   syncVersion()\r\n                      // }, 15000)\r\n                    } else {\r\n                      localStorage.setItem(\"lastUrl\", window.location.href)\r\n                      navigate(\"/error\")\r\n                    }\r\n                  })\r\n                } else {\r\n                  if (\r\n                    (window.location.pathname !== \"/login\" ||\r\n                      window.location.pathname?.indexOf(\"/public\") !== -1) &&\r\n                    window.location.pathname !== \"/reset-password\" &&\r\n                    window.location.pathname !== \"/forgot-password\" &&\r\n                    window.location.pathname !== \"/register\"\r\n                  ) {\r\n                    navigate(\"/login\")\r\n                  } else {\r\n                    if (window.location.pathname === \"/reset-password\") {\r\n                      navigate(\r\n                        window.location.pathname + window.location.search\r\n                      )\r\n                    } else if (\r\n                      window.location.pathname === \"/forgot-password\"\r\n                    ) {\r\n                      navigate(\"/forgot-password\")\r\n                    } else if (\r\n                      window.location.pathname === \"/register\" &&\r\n                      (res.payload?.app?.setting?.enable_registration ||\r\n                        res.payload?.unit?.unit_app_attributes\r\n                          ?.enable_registration)\r\n                    ) {\r\n                      navigate(\"/register\")\r\n                    } else {\r\n                      navigate(\"/login\")\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          })\r\n        }\r\n      } else {\r\n        console.error(\"Offline\")\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"You are not connected to internet\",\r\n          text: \"Please check your connection to the internet.\",\r\n          confirmButtonText: \"Refresh\",\r\n          customClass: {\r\n            confirmButton: \"btn btn-primary\"\r\n          }\r\n        }).then((result) => {\r\n          if (result.isConfirmed) {\r\n            location.reload()\r\n          }\r\n        })\r\n      }\r\n    }\r\n\r\n    return () => {\r\n      effectRan.current = true\r\n      // Clear all timeouts when the component unmounts or effect is cleaned up\r\n      timeouts.current.forEach((timeout) => clearTimeout(timeout))\r\n      timeouts.current = []\r\n    }\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <Suspense fallback={<Spinner />}>\r\n      <Router />\r\n    </Suspense>\r\n  )\r\n}\r\n\r\nexport default App\r\n","// ** Redux Imports\r\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\"\r\nimport { useTranslation } from \"react-i18next\"\r\n// ** Axios Imports\r\n// import axios from \"axios\"\r\n// import useJwt.ssoAxiosInterceptor from \"../../../../shared/SsoAxiosInterceptorsss\"\r\nimport useJwt from \"@src/auth/jwt/useJwt\"\r\nimport { isUserLoggedIn, isAdminApp } from \"@utils\"\r\nimport { bool } from \"prop-types\"\r\n\r\nconst initSelectData = {\r\n  value: \"\",\r\n  label: \"Select Unit\"\r\n}\r\n\r\nexport const setUnitSelectedDropdown = createAsyncThunk(\r\n  \"Units/setUnitSelectedDropdown\",\r\n  (data) => {\r\n    // console.log(data)\r\n    return data\r\n  }\r\n)\r\n\r\nexport const getUnits = createAsyncThunk(\r\n  \"Units/getUnits\",\r\n  async (params, { rejectWithValue }) => {\r\n    params[\"flat_mode\"] = true\r\n    // console.log(\"GET INIT MEMBER-OF START...\")\r\n    if (isUserLoggedIn() !== null) {\r\n      const userMember =\r\n        (await JSON.parse(localStorage.getItem(\"userData\")).member_of) ?? []\r\n\r\n      if (userMember.length > 0) {\r\n        // userMember.unshift(initSelectData)\r\n        let fetchState = false\r\n        if (userMember.some((e) => e.children_count > 0)) {\r\n          fetchState = true\r\n        }\r\n\r\n        if (fetchState) {\r\n          const response = await useJwt.ssoAxiosInterceptor.get(\"/api/unit\", {\r\n            params\r\n          })\r\n          // response.data.data.unshift(initSelectData)\r\n          // console.log(\"GET INIT MEMBER-OF SUCCESS\")\r\n          return {\r\n            params,\r\n            data: response.data.data,\r\n            total: response.data.total\r\n          }\r\n        } else {\r\n          // console.log(\"GET INIT MEMBER-OF SUCCESS\")\r\n          return { data: userMember }\r\n        }\r\n      } else {\r\n        try {\r\n          const response = await useJwt.ssoAxiosInterceptor.get(\"/api/unit\", {\r\n            params\r\n          })\r\n          // response.data.data.unshift(initSelectData)\r\n          // console.log(\"GET INIT MEMBER-OF SUCCESS\")\r\n          return {\r\n            params,\r\n            data: response.data.data,\r\n            total: response.data.total\r\n          }\r\n        } catch (error) {\r\n          // console.error(\"GET INIT MEMBER-OF FAILED!!!\")\r\n          return rejectWithValue(error.response.data)\r\n        }\r\n      }\r\n    }\r\n  }\r\n)\r\n\r\nexport const getUnit = createAsyncThunk(\"Units/getUnit\", async (id) => {\r\n  const response = await axios.get(`/api/unit/${id}`)\r\n  // console.log(response)\r\n  return response.data.data\r\n})\r\n\r\nexport const addUnit = createAsyncThunk(\r\n  \"Units/addUnit\",\r\n  async (unit, { dispatch, getState }) => {\r\n    await axios.post(\"/api/unit\", unit)\r\n    await dispatch(getUnits(getState().units.params))\r\n    await dispatch(getAllUnit())\r\n    return unit\r\n  }\r\n)\r\n\r\nexport const deleteUnit = createAsyncThunk(\r\n  \"Units/deleteUnit\",\r\n  async (id, { dispatch, getState }) => {\r\n    await axios.delete(\"/apps/unit\", { id })\r\n    await dispatch(getUnits(getState().units.params))\r\n    await dispatch(getAllUnit())\r\n    return id\r\n  }\r\n)\r\n\r\nconst fetchStatus = \"idle\" | \"loading\" | \"succeeded\" | \"failed\"\r\n\r\nexport const MyUnitsSlice = createSlice({\r\n  name: \"Units\",\r\n  initialState: {\r\n    crudTitle: \"Unit\",\r\n\r\n    // SUMMARY\r\n    statusSummary: fetchStatus,\r\n    isLoadingSummary: false,\r\n    errorSummary: \"\" | null,\r\n    dataSummary: [],\r\n\r\n    // ALL\r\n    status: fetchStatus,\r\n    isLoading: false,\r\n    error: \"\" | null,\r\n    data: [],\r\n    total: 1,\r\n\r\n    //SHARED\r\n    dataDropdown: [],\r\n    selectedUnit: {},\r\n    selectedUnitMulti: []\r\n  },\r\n  reducers: {\r\n    setUnitSelected: (state, action) => {\r\n      // console.log(action)\r\n      console.log(\"setUnitSelected\")\r\n      return { ...state, selectedUnit: action.payload }\r\n    },\r\n    resetAll: (state) => {\r\n      // state.errorSummary = null\r\n      // state.dataSummary = []\r\n      // state.error = null\r\n      state.data = []\r\n      state.dataDropdown = []\r\n      state.total = 1\r\n      state.selectedUnit = null\r\n      state.selectedUnitMulti = null\r\n    }\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(setUnitSelectedDropdown.fulfilled, (state, action) => {\r\n        // state.selectedUnit = action.payload\r\n        console.log(\"setUnitSelectedDropdown\")\r\n        return { ...state, selectedUnit: action.payload }\r\n        // console.log(state.selectedUnit)\r\n        // state.selectedUnit = { ...state.selectedUnit, ...action.payload }\r\n      })\r\n      .addCase(getUnits.pending, (state) => {\r\n        // console.log(\"pending\")\r\n        state.status = \"loading\"\r\n        state.isLoading = true\r\n      })\r\n      .addCase(getUnits.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\"\r\n        state.isLoading = false\r\n\r\n        if (action.payload?.data) {\r\n          state.data = action.payload.data\r\n          state.dataDropdown = action.payload.data.map((item) => ({\r\n            value: item.id,\r\n            label: item.name\r\n          }))\r\n          // console.log(state.dataDropdown)\r\n          state.dataDropdown.unshift(initSelectData)\r\n          if (action.payload?.total) {\r\n            state.total = action.payload.total\r\n          }\r\n          state.selectedUnit = state.dataDropdown[0]\r\n        }\r\n      })\r\n      .addCase(getUnits.rejected, (state, action) => {\r\n        state.status = \"failed\"\r\n        state.isLoading = false\r\n        state.error = action.error.message\r\n      })\r\n\r\n      .addCase(getUnit.fulfilled, (state, action) => {\r\n        state.selectedUnit = action.payload\r\n      })\r\n  }\r\n})\r\n\r\n// export const { setUnitSelected, resetAll } = UnitsSlice.actions\r\n\r\nexport default MyUnitsSlice.reducer\r\n"],"sourceRoot":""}